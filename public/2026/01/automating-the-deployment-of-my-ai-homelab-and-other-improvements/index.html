<!DOCTYPE html>

<html class="no-js" itemscope="" itemtype="https://schema.org/Blog" lang="en-GB" prefix="og: https://ogp.me/ns#">
<head><link as="style" href="/assets/css/brutalist-theme.css" rel="preload"/><link as="style" href="/wp-content/cache/wpo-minify/1768392179/assets/wpo-minify-header-60a11f4e.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/rankmath.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/footer.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/kadence-splide.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/related-posts.min.css" rel="preload"/><link href="//plausible.jameskilby.cloud" rel="dns-prefetch"/><link crossorigin="" href="https://plausible.jameskilby.cloud" rel="preconnect"/>
<link as="script" href="/wp-content/cache/wpo-minify/1768392179/assets/wpo-minify-footer-20d41812.min.js" rel="preload"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, minimum-scale=1" name="viewport"/>
<!-- Search Engine Optimization by Rank Math - https://rankmath.com/ -->
<title>Automating The Deployment Of My AI Homelab - Jameskilbycouk</title>
<meta content="In a previous post, I wrote about using my VMware lab with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in" name="description"/>
<meta content="index, follow, max-snippet:-1, max-video-preview:-1, max-image-preview:large" name="robots"/>
<link href="/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/" rel="canonical"/>
<meta content="en_GB" property="og:locale">
<meta content="article" property="og:type">
<meta content="Automating The Deployment Of My AI Homelab - Jameskilbycouk" property="og:title"/>
<meta content="In a previous post, I wrote about using my VMware lab with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in" property="og:description"/>
<meta content="/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/" property="og:url"/>
<meta content="Jameskilbycouk" property="og:site_name"/>
<meta content="Ansible" property="article:section"/>
<meta content="2026-01-15T21:19:58+00:00" property="article:published_time"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Automating The Deployment Of My AI Homelab - Jameskilbycouk" name="twitter:title"/>
<meta content="In a previous post, I wrote about using my VMware lab with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in" name="twitter:description"/>
<meta content="Written by" name="twitter:label1"/>
<meta content="James" name="twitter:data1"/>
<meta content="Time to read" name="twitter:label2"/>
<meta content="5 minutes" name="twitter:data2"/>
<script class="rank-math-schema" type="application/ld+json">{"@context":"https://schema.org","@graph":[[{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"GPU vs vGPU","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#gpu-vs-v-gpu"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"Pre req&#039;s","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#pre-reqs"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"Host Preparation","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#h"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"Guest Setup","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#guest-setup"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"Ansible Details","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#ansible-details"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"1. Docker deployment","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#docker-deployment"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"2. Install Traefik","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#install-traefik"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"3. Install NVIDIA Guest Drivers","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#windows"},{"@context":"https://schema.org","@type":"SiteNavigationElement","@id":"#rank-math-toc","name":"4. Install NVIDIA Container Toolkit","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#install-nvidia-container-toolkit"}],{"@type":["Person","Organization"],"@id":"/#person","name":"Jameskilbycouk","logo":{"@type":"ImageObject","@id":"/#logo","url":"/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png","contentUrl":"/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png","caption":"Jameskilbycouk","inLanguage":"en-GB","width":"1024","height":"1024"},"image":{"@type":"ImageObject","@id":"/#logo","url":"/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png","contentUrl":"/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png","caption":"Jameskilbycouk","inLanguage":"en-GB","width":"1024","height":"1024"},"url":"https://jameskilby.co.uk"},{"@type":"WebSite","@id":"/#website","url":"https://jameskilby.co.uk","name":"Jameskilbycouk","publisher":{"@id":"/#person"},"inLanguage":"en-GB"},{"@type":"BreadcrumbList","@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#breadcrumb","itemListElement":[{"@type":"ListItem","position":"1","item":{"@id":"https://jameskilby.co.uk","name":"Home"}},{"@type":"ListItem","position":"2","item":{"@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/","name":"Automating the deployment of my AI Homelab"}}]},{"@type":"WebPage","@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#webpage","url":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/","name":"Automating The Deployment Of My AI Homelab - Jameskilbycouk","datePublished":"2026-01-15T21:19:58+00:00","dateModified":"2026-01-15T21:19:58+00:00","isPartOf":{"@id":"/#website"},"inLanguage":"en-GB","breadcrumb":{"@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#breadcrumb"}},{"@type":"Person","@id":"/author/admin/","name":"James","url":"/author/admin/","image":{"@type":"ImageObject","@id":"https://secure.gravatar.com/avatar/ef6adff58705e646065437e05c1828dd80a8f03997f0a97cf2b109df4eafd7aa?s=96&amp;d=mm&amp;r=g","url":"https://secure.gravatar.com/avatar/ef6adff58705e646065437e05c1828dd80a8f03997f0a97cf2b109df4eafd7aa?s=96&amp;d=mm&amp;r=g","caption":"James","inLanguage":"en-GB"},"sameAs":["https://wordpress.jameskilby.cloud"]},{"@type":"BlogPosting","headline":"Automating The Deployment Of My AI Homelab - Jameskilbycouk","datePublished":"2026-01-15T21:19:58+00:00","dateModified":"2026-01-15T21:19:58+00:00","author":{"@id":"/author/admin/","name":"James"},"publisher":{"@id":"/#person"},"description":"In a previous post, I wrote about using my VMware lab with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in","name":"Automating The Deployment Of My AI Homelab - Jameskilbycouk","@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#richSnippet","isPartOf":{"@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#webpage"},"inLanguage":"en-GB","mainEntityOfPage":{"@id":"/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/#webpage"},"wordCount":1025,"timeRequired":"PT5M","articleBody":"In a previous post , I wrote about using my VMware lab with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in passthrough mode (I will refer to this a GPU). I wanted to take this to the next level and I also wanted to automate most of the steps. This was for a few reasons, firstly I wanted to get better at automating in general. Secondly, I found the setup brittle and wanted to improve the reliability of deployments. I also decided to bite the bullet and update the graphics card I was using to something a bit more modern and capable. After a bit of searching I decided on an Nvidia A10 Here is my write-up, and I will link to my GitHub repository with the relevant code. Table of Contents GPU vs vGPU For anyone not familiar, it may be worth giving an overview of the differences between GPU and vGPU. What I describe as ‚ÄúGPU‚Äù is where I am passing the entire Graphics PCI device through to a single VM within vSphere. Using this method has some advantages, firstly, it doesn‚Äôt require any special licences or drivers. The entire PCI card gets passed into the VM as is. However, it has some downsides. The two most important ones for me are that it can only be presented to a single VM at a time and that VM cannot be snapshotted while it is turned on. This made backups convoluted. As I was changing configurations a lot this became tedious. I also wanted to be able to pass the card through to multiple VM‚Äôs vGPU is only officially supported on ‚Äúdatacentre‚Äù cards from NVIDIA it virtualizes the graphics card and allows you to share it across multiple VM‚Äôs in a similar way to what vSphere has done for compute virtualization for years. It allows you to split the card into some predefined profiles that I have listed below and attach them to multiple virtual machines at the same time. INSERT PROFILE TABLE HERE Pre req‚Äôs There are quite a lot of pre-reqs required to be in place to utilise the attached deployment scripts. So it‚Äôs worth ensuring that all of these are complete. Obviously, you need a vSphere Host and vCentre licensed at least at the enterprise level (I am using Enterprise Plus on 8.0u3) NVIDIA datacenter Graphics card and associated Host and Guest drivers, I am using an A10 and using driver version 535.247.0 NVIDIA vGPU licence Domain hosted with Cloudflare and API token with Zone:DNS:Edit permissions. DNS Records created for vGPU VM Traefik Dashboard Test NGINX Server ‚Äì Optional NFS Server (Used for vGPU Software install) Host Preparation To make vGPU work successfully, there are two elements required. The first is that the vSphere host has the driver installed. For now, I‚Äôm using the ‚Äò535‚Äô version of the driver, which is the LTS version.` To utilise vGPU with vSphere you need an NVIDIA account to obtain the software. Once this has been obtained, you need to copy the host driver to a VMware datastore. Place the host in maintenance mode and then install the driver. esxcli software vib install -d /vmfs/volumes/02cb3d2b-457ccb84/nvidia/NVIDIA-GRID-vSphere-8.0-535.247.02-535.247.01-539.28.zip If it worked successfully, you should get a result like the below Installation Result Message: Operation finished successfully. VIBs Installed: NVD_bootbank_NVD-VMware_ESXi_8.0.0_Driver_535.247.02-1OEM.800.1.0.20613240 VIBs Removed: VIBs Skipped: Reboot Required: false DPU Results: I always choose to restart the host after installing the driver. I have been bitten in the past where it says a reboot isn‚Äôt required but it was. Once the host has restarted ssh into it and validate that the driver is talking to the card correctly with the nvidia-smi command. +---------------------------------------------------------------------------------------+ | NVIDIA-SMI 535.247.02 Driver Version: 535.247.02 CUDA Version: N/A | |-----------------------------------------+----------------------+----------------------+ | GPU Name Persistence-M | Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap | Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |=========================================+======================+======================| | 0 NVIDIA A10 On | 00000000:03:00.0 Off | 0 | | 0% 41C P8 22W / 150W | 11200MiB / 23028MiB | 0% Default | | | | N/A | +-----------------------------------------+----------------------+----------------------+ Guest Setup I have built some Ansible playbooks that perform a number of activities that make it MUCH easier to get the guest up and running for use with AI workloads. These have only been tested with Ubuntu. At a high level, they: Deploy Docker Install Traefik Install NVIDIA Guest drivers Install NVIDIA Container Toolkit Ansible Details I have kept these as four separate playbooks for now. They are designed to be run in order. 1. Docker deployment I have covered the deployment of Docker already in this post. Obviously, you don‚Äôt have to use Semaphore to do this (especially as Semaphore requires Docker in the first place). However, you can use the "}]}</script>
<!-- /Rank Math WordPress SEO plugin -->
<link href="/feed/" rel="alternate" title="Jameskilbycouk ¬ª Feed" type="application/rss+xml"/>
<link href="/comments/feed/" rel="alternate" title="Jameskilbycouk ¬ª Comments Feed" type="application/rss+xml"/>
<script>document.documentElement.classList.remove( 'no-js' );</script>
<link href="/2026/01/automating-the-deployment-of-my-ai-homelab-and-other-improvements/feed/" rel="alternate" title="Jameskilbycouk ¬ª Automating the deployment of my AI Homelab Comments Feed" type="application/rss+xml"/>
<link href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwordpress.jameskilby.cloud%2F2026%2F01%2Fautomating-the-deployment-of-my-ai-homelab-and-other-improvements%2F" rel="alternate" title="oEmbed (JSON)" type="application/json+oembed"/>
<link href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwordpress.jameskilby.cloud%2F2026%2F01%2Fautomating-the-deployment-of-my-ai-homelab-and-other-improvements%2F&amp;format=xml" rel="alternate" title="oEmbed (XML)" type="text/xml+oembed"/>
<link href="/assets/css/wp-img-auto-sizes-contain-inline-css-a656989e.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/wp-block-library-inline-css-57f6e5a7.min.css" media="all" rel="stylesheet"/><link href="/assets/css/wp-block-heading-inline-css-cc2edf23.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/wp-block-list-inline-css-597eaa17.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/wp-block-code-inline-css-d1d93800.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/wp-block-paragraph-inline-css-4dc6b130.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/wp-block-table-inline-css-6795c302.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/global-styles-inline-css-39ae9c14.min.css" media="all" rel="stylesheet"/>
<link href="/assets/css/classic-theme-styles-inline-css-25949713.min.css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/related-posts.min.css" id="kadence-related-posts-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/kadence-splide.min.css" id="kad-splide-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/footer.min.css" id="kadence-footer-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/rankmath.min.css" id="kadence-rankmath-css" media="all" rel="stylesheet"/>
<link href="/wp-content/cache/wpo-minify/1768392179/assets/wpo-minify-header-60a11f4e.min.css" id="wpo_min-header-0-css" media="all" rel="stylesheet"/>
<link href="/wp-json/wp/v2/posts/7306" rel="alternate" title="JSON" type="application/json"/><link href="/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="/?p=7306" rel="shortlink"/>
<link href="/xmlrpc.php" rel="pingback"/></meta></meta><meta content="/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png" property="og:image"/><meta content="1024" property="og:image:width"/><meta content="1024" property="og:image:height"/><meta content="/wp-content/uploads/2025/12/ChatGPT-Image-Dec-17-2025-at-09_03_10-PM.png" name="twitter:image"/><meta content="max-age=86400" http-equiv="Cache-Control"/><meta content="WordPress Static Generator 1.0" name="generator"/><meta content="#0a0a0a" name="theme-color"/><link href="/favicon.ico" rel="icon" type="image/x-icon"/><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/site.webmanifest" rel="manifest"/><link href="/assets/css/brutalist-theme.css" rel="stylesheet"/><script data-cfasync="false" data-domain="jameskilby.co.uk" defer="" src="https://plausible.jameskilby.cloud/js/script.js"></script></head>
<body class="wp-singular post-template-default single single-post postid-7306 single-format-standard wp-embed-responsive wp-theme-kadence hide-focus-outline link-style-standard content-title-style-normal content-width-narrow content-style-boxed content-vertical-padding-show non-transparent-header mobile-non-transparent-header">
<div class="site wp-site-blocks" id="wrapper">
<a class="skip-link screen-reader-text scroll-ignore" href="#main">Skip to content</a>
<header class="site-header" id="masthead" itemscope="" itemtype="https://schema.org/WPHeader" role="banner">
<div class="site-header-wrap" id="main-header">
<div class="site-header-inner-wrap">
<div class="site-header-upper-wrap">
<div class="site-header-upper-inner-wrap">
<div class="site-main-header-wrap site-header-row-container site-header-focus-item site-header-row-layout-standard" data-section="kadence_customizer_header_main">
<div class="site-header-row-container-inner">
<div class="site-container">
<div class="site-main-header-inner-wrap site-header-row site-header-row-has-sides site-header-row-no-center">
<div class="site-header-main-section-left site-header-section site-header-section-left">
<div class="site-header-item site-header-focus-item" data-section="title_tagline">
<div class="site-branding branding-layout-standard"><a class="brand" href="/" rel="home"><div class="site-title-wrap"><p class="site-title">Jameskilbycouk</p></div></a></div></div><!-- data-section="title_tagline" -->
</div>
<div class="site-header-main-section-right site-header-section site-header-section-right">
<div class="site-header-item site-header-focus-item site-header-item-main-navigation header-navigation-layout-stretch-false header-navigation-layout-fill-stretch-false" data-section="kadence_customizer_primary_navigation">
<nav aria-label="Primary" class="main-navigation header-navigation hover-to-open nav--toggle-sub header-navigation-style-standard header-navigation-dropdown-animation-none" id="site-navigation" role="navigation">
<div class="primary-menu-container header-menu-container">
<ul class="menu" id="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7329" id="menu-item-7329"><a href="/about-me/">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324" id="menu-item-7324"><a href="/evs/">AWS EVS</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7325" id="menu-item-7325"><a href="/vmc/">VMC</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7327" id="menu-item-7327"><a href="/media/">Media</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7326" id="menu-item-7326"><a href="/homelab-software/">HomeLab ‚Äì Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7328" id="menu-item-7328"><a href="/lab/">Homelab ‚Äì Hardware</a></li>
</ul> </div>
</nav><!-- #site-navigation -->
</div><!-- data-section="primary_navigation" -->
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="site-mobile-header-wrap" id="mobile-header">
<div class="site-header-inner-wrap">
<div class="site-header-upper-wrap">
<div class="site-header-upper-inner-wrap">
<div class="site-main-header-wrap site-header-focus-item site-header-row-layout-standard site-header-row-tablet-layout-default site-header-row-mobile-layout-default">
<div class="site-header-row-container-inner">
<div class="site-container">
<div class="site-main-header-inner-wrap site-header-row site-header-row-has-sides site-header-row-no-center">
<div class="site-header-main-section-left site-header-section site-header-section-left">
<div class="site-header-item site-header-focus-item" data-section="title_tagline">
<div class="site-branding mobile-site-branding branding-layout-standard branding-tablet-layout-inherit branding-mobile-layout-inherit"><a class="brand" href="/" rel="home"><div class="site-title-wrap"><div class="site-title vs-md-false">Jameskilbycouk</div></div></a></div></div><!-- data-section="title_tagline" -->
</div>
<div class="site-header-main-section-right site-header-section site-header-section-right">
<div class="site-header-item site-header-focus-item site-header-item-navgation-popup-toggle" data-section="kadence_customizer_mobile_trigger">
<div class="mobile-toggle-open-container">
<button aria-expanded="false" aria-label="Open menu" class="menu-toggle-open drawer-toggle menu-toggle-style-default" data-set-focus=".menu-toggle-close" data-toggle-body-class="showing-popup-drawer-from-right" data-toggle-target="#mobile-drawer" id="mobile-toggle">
<span class="menu-toggle-icon"><span class="kadence-svg-iconset"><svg aria-hidden="true" class="kadence-svg-icon kadence-menu-svg" fill="currentColor" height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Toggle Menu</title><path d="M3 13h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 7h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 19h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1z"></path>
</svg></span></span>
</button>
</div>
</div><!-- data-section="mobile_trigger" -->
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</header><!-- #masthead -->
<main class="wrap kt-clear" id="inner-wrap" role="main">
<div class="content-area" id="primary">
<div class="content-container site-container">
<div class="site-main" id="main">
<div class="content-wrap">
<article class="entry content-bg single-entry post-7306 post type-post status-publish format-standard hentry category-ansible category-artificial-intelligence category-containers category-devops category-homelab category-nvidia category-traefik category-vmware" id="post-7306">
<div class="entry-content-wrap">
<header class="entry-header post-title title-align-inherit title-tablet-align-inherit title-mobile-align-inherit">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a href="/category/ansible/" rel="tag">Ansible</a> | <a href="/category/artificial-intelligence/" rel="tag">Artificial Intelligence</a> | <a href="/category/containers/" rel="tag">Containers</a> | <a href="/category/devops/" rel="tag">Devops</a> | <a href="/category/homelab/" rel="tag">Homelab</a> | <a href="/category/nvidia/" rel="tag">NVIDIA</a> | <a href="/category/traefik/" rel="tag">Traefik</a> | <a href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h1 class="entry-title">Automating the deployment of my AI Homelab</h1><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published updated" datetime="2026-01-15T21:19:58+00:00" itemprop="dateModified">January 15, 2026</time> </span>
<span class="reading-time" style="color: #718096;"><span> ‚Ä¢ </span><span style="margin-right: 4px;">üìñ</span><span>5 min read</span><span style="margin-left: 4px; color: #a0aec0;">(1,031 words)</span></span></div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-content single-content">
<p>In a previous <a data-id="https://wordpress.jameskilby.cloud/2024/10/self-hosting-ai-stack-using-vsphere-docker-and-nvidia-gpu/" data-type="link" href="/2024/10/self-hosting-ai-stack-using-vsphere-docker-and-nvidia-gpu/">post</a>, I wrote about using my VMware <a href="/lab/">lab</a> with a NVIDIA Tesla P4 for running some AI services. However, this deployment was done with the GPU in passthrough mode (I will refer to this a GPU). I wanted to take this to the next level and I also wanted to automate most of the steps. This was for a few reasons, firstly I wanted to get better at automating in general. Secondly, I found the setup brittle and wanted to improve the reliability of deployments.</p>
<p>I also decided to bite the bullet and update the graphics card I was using to something a bit more modern and capable.  After a bit of searching I decided on an <a data-id="https://www.nvidia.com/en-gb/data-center/products/a10-gpu/" data-type="link" href="https://www.nvidia.com/en-gb/data-center/products/a10-gpu/" rel="noopener" target="_blank">Nvidia A10</a></p>
<p>Here is my write-up, and I will link to my GitHub <a href="https://github.com/jameskilbynet/iac/tree/main/ansible" rel="noopener" target="_blank">repository</a> with the relevant code.</p>
<div class="wp-block-rank-math-toc-block" id="rank-math-toc"><h2>Table of Contents</h2><nav><ul><li><a href="#gpu-vs-v-gpu">GPU vs vGPU</a></li><li><a href="#pre-reqs">Pre req‚Äôs</a></li><li><a href="#h">Host Preparation</a></li><li><a href="#guest-setup">Guest Setup</a></li><li><a href="#ansible-details">Ansible Details</a><ul><li><a href="#docker-deployment">1. Docker deployment</a></li><li><a href="#install-traefik">2. Install Traefik</a></li><li><a href="#windows">3. Install NVIDIA Guest Drivers</a></li><li><a href="#install-nvidia-container-toolkit">4. Install NVIDIA Container Toolkit</a></li></ul></li></ul></nav></div>
<h2 class="wp-block-heading" id="gpu-vs-v-gpu">GPU vs vGPU</h2>
<p>For anyone not familiar, it may be worth giving an overview of the differences between GPU and vGPU. What I describe as ‚ÄúGPU‚Äù is where I am passing the entire Graphics PCI device through to a single VM within vSphere. Using this method has some advantages, firstly, it doesn‚Äôt require any special licences or drivers. The entire PCI card gets passed into the VM as is. However, it has some downsides. The two most important ones for me are that it can only be presented to a single VM at a time and that VM cannot be snapshotted while it is turned on. This made backups convoluted. As I was changing configurations a lot this became tedious.   I also wanted to be able to pass the card through to multiple VM‚Äôs</p>
<p>vGPU is only officially supported on ‚Äúdatacentre‚Äù cards from NVIDIA it virtualizes the graphics card and allows you to share it across multiple VM‚Äôs in a similar way to what vSphere has done for compute virtualization for years. It allows you to split the card into some predefined profiles that I have listed below and attach them to multiple virtual machines at the same time.</p>
<p><strong>INSERT PROFILE TABLE HERE </strong></p>
<p></p>
<h2 class="wp-block-heading" id="pre-reqs">Pre req‚Äôs</h2>
<p>There are quite a lot of pre-reqs required to be in place to utilise the attached deployment scripts. So it‚Äôs worth ensuring that all of these are complete.</p>
<ul class="wp-block-list">
<li>Obviously, you need a vSphere Host and vCentre licensed at least at the enterprise level (I am using Enterprise Plus on 8.0u3)</li>
<li>NVIDIA  datacenter Graphics card and associated Host and Guest drivers, I am using an A10 and  using driver version 535.247.0</li>
<li>NVIDIA vGPU licence</li>
<li>Domain hosted with Cloudflare and API <a href="http://You can create one at: https://dash.cloudflare.com/profile/api-tokens">token</a> with Zone:DNS:Edit permissions.</li>
<li>DNS Records created for 
<ul class="wp-block-list">
<li>vGPU VM</li>
<li>Traefik Dashboard</li>
<li>Test NGINX Server ‚Äì Optional</li>
<li>NFS Server (Used for vGPU Software install)</li>
</ul>
</li>
</ul>
<h2 class="wp-block-heading" id="h">Host Preparation</h2>
<p>To make vGPU work successfully, there are two elements required. The first is that the vSphere host has the driver installed. For now, I‚Äôm using the ‚Äò535‚Äô version of the driver, which is the LTS version.` To utilise vGPU with vSphere you need an NVIDIA account to obtain the software. Once this has been obtained, you need to copy the host driver to a VMware datastore. Place the host in maintenance mode and then install the driver.</p>
<div class="code-block-wrapper" style="position: relative; margin: 1em 0;"><pre class="wp-block-code"><code>esxcli software vib install -d /vmfs/volumes/02cb3d2b-457ccb84/nvidia/NVIDIA-GRID-vSphere-8.0-535.247.02-535.247.01-539.28.zip</code></pre><button aria-label="Copy code to clipboard" class="copy-code-button" style="position: absolute; top: 8px; right: 8px; 
                padding: 6px 12px; background: #2d3748; color: #fff; 
                border: 1px solid #4a5568; border-radius: 4px; 
                cursor: pointer; font-size: 12px; font-family: sans-serif;
                opacity: 0.8; transition: opacity 0.2s, background 0.2s;
                z-index: 10;">üìã Copy</button></div>
<p>If it worked successfully, you should get a result like the below</p>
<div class="code-block-wrapper" style="position: relative; margin: 1em 0;"><pre class="wp-block-code"><code>Installation Result
   Message: Operation finished successfully.
   VIBs Installed: NVD_bootbank_NVD-VMware_ESXi_8.0.0_Driver_535.247.02-1OEM.800.1.0.20613240
   VIBs Removed: 
   VIBs Skipped: 
   Reboot Required: false
   DPU Results: </code></pre><button aria-label="Copy code to clipboard" class="copy-code-button" style="position: absolute; top: 8px; right: 8px; 
                padding: 6px 12px; background: #2d3748; color: #fff; 
                border: 1px solid #4a5568; border-radius: 4px; 
                cursor: pointer; font-size: 12px; font-family: sans-serif;
                opacity: 0.8; transition: opacity 0.2s, background 0.2s;
                z-index: 10;">üìã Copy</button></div>
<p>I always choose to restart the host after installing the driver. I have been bitten in the past where it says a reboot isn‚Äôt required but it was.</p>
<p>Once the host has restarted ssh into it and validate that the driver is talking to the card correctly with the nvidia-smi command.</p>
<div class="code-block-wrapper" style="position: relative; margin: 1em 0;"><pre class="wp-block-code"><code>+---------------------------------------------------------------------------------------+<br/>| NVIDIA-SMI 535.247.02             Driver Version: 535.247.02   CUDA Version: N/A      |<br/>|-----------------------------------------+----------------------+----------------------+<br/>| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |<br/>| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |<br/>|                                         |                      |               MIG M. |<br/>|=========================================+======================+======================|<br/>|   0  NVIDIA A10                     On  | 00000000:03:00.0 Off |                    0 |<br/>|  0%   41C    P8              22W / 150W |  11200MiB / 23028MiB |      0%      Default |<br/>|                                         |                      |                  N/A |<br/>+-----------------------------------------+----------------------+----------------------+<br/><br/></code></pre><button aria-label="Copy code to clipboard" class="copy-code-button" style="position: absolute; top: 8px; right: 8px; 
                padding: 6px 12px; background: #2d3748; color: #fff; 
                border: 1px solid #4a5568; border-radius: 4px; 
                cursor: pointer; font-size: 12px; font-family: sans-serif;
                opacity: 0.8; transition: opacity 0.2s, background 0.2s;
                z-index: 10;">üìã Copy</button></div>
<h2 class="wp-block-heading" id="guest-setup">Guest Setup</h2>
<p> I have built some Ansible playbooks that perform a number of activities that make it MUCH easier to get the guest up and running for use with AI workloads.  These have only been tested with Ubuntu.</p>
<p>At a high level, they:</p>
<ul class="wp-block-list">
<li>Deploy Docker </li>
<li>Install Traefik</li>
<li>Install NVIDIA Guest drivers</li>
<li>Install NVIDIA Container Toolkit</li>
</ul>
<h2 class="wp-block-heading" id="ansible-details">Ansible Details </h2>
<p>I have kept these as four separate playbooks for now. They are designed to be run in order.</p>
<h3 class="wp-block-heading" id="docker-deployment">1. Docker deployment</h3>
<p>I have covered the deployment of Docker already in <a href="/2025/09/managing-my-homelab-with-semaphoreui/" rel="noopener" target="_blank" title="Managing my Homelab with SemaphoreUI">this</a> post. Obviously, you don‚Äôt have to use Semaphore to do this (especially as Semaphore requires Docker in the first place). However, you can use the Ansible playbook with some amendments.</p>
<h3 class="wp-block-heading" id="install-traefik">2. Install Traefik</h3>
<p>Traefik is a reverse proxy/ingress controller. I am using it effectively as a load balancer in front of my web-based homelab services. I also have it integrated with Let‚Äôs Encrypt and Cloudflare so that it will automatically obtain a trusted certificate. This has the added benefit that I don‚Äôt need to remember the relevant port the containers are running on.</p>
<p></p>
<p>This playbook needs a lot of Variables as can be seen below.  In most cases the default is ok.</p>
<p>{<br/>‚Äútraefik_image‚Äù: ‚Äútraefik:v3.6.6‚Äù,<br/>‚Äútraefik_container_name‚Äù: ‚Äútraefik‚Äù,<br/>‚Äútraefik_network‚Äù: ‚Äútraefik‚Äù,<br/>‚Äútraefik_port_web‚Äù: 80,<br/>‚Äútraefik_port_websecure‚Äù: 443,<br/>‚Äútraefik_config_dir‚Äù: ‚Äú/opt/traefik‚Äù,<br/>‚Äútraefik_cert_dir‚Äù: ‚Äú/opt/traefik/acme‚Äù,<br/>‚Äúcloudflare_api_token_file‚Äù: ‚Äú/opt/traefik/.cloudflare_api_token‚Äù,<br/>‚Äúdashboard_password_file‚Äù: ‚Äú{{ traefik_config_dir }}/.dashboard_password‚Äù,<br/>‚Äúacme_delay_before_check‚Äù: 30,<br/>‚Äúdns_resolvers‚Äù: [<br/>‚Äú1.1.1.1:53‚Äù,<br/>‚Äú8.8.8.8:53‚Äù<br/>],<br/>‚Äúlog_level‚Äù: ‚ÄúINFO‚Äù,<br/>‚Äúlog_format‚Äù: ‚Äújson‚Äù,<br/>‚Äúhealthcheck_interval‚Äù: ‚Äú30s‚Äù,<br/>‚Äúhealthcheck_timeout‚Äù: ‚Äú5s‚Äù,<br/>‚Äúhealthcheck_retries‚Äù: 3,<br/>‚Äúhealthcheck_start_period‚Äù: ‚Äú30s‚Äù,<br/>‚Äúlog_max_size‚Äù: ‚Äú10m‚Äù,<br/>‚Äúlog_max_files‚Äù: ‚Äú3‚Äù,<br/>‚Äúwildcard_domain‚Äù: ‚Äújameskilby.cloud‚Äù,<br/>‚Äútest_service_domain‚Äù: ‚Äútest.jameskilby.cloud‚Äù,<br/>‚Äúdashboard_admin_user‚Äù: ‚Äúadmin‚Äù,<br/>‚Äútest_service_name‚Äù: ‚Äúnginx-test‚Äù,<br/>‚Äútest_service_image‚Äù: ‚Äúnginx:alpine‚Äù<br/>}</p>
<p></p>
<p>It also needs additional variables that should be classed as secrets </p>
<p>dashboard_admin_password_hash</p>
<p>cloudflare_api_token</p>
<p></p>
<h3 class="wp-block-heading" id="windows">3. Install NVIDIA Guest Drivers</h3>
<p>This playbook configures an NFS client on the Ubuntu server and then copies both the vGPU licence file and the driver from my NFS storage before installing them.</p>
<h3 class="wp-block-heading" id="install-nvidia-container-toolkit">4. Install NVIDIA Container Toolkit</h3>
<p>The last playbook installs the NVIDIA container toolkit and validates that everything is working by running a docker container and executing the nvidia-smi command from within the container.  </p>
</div><!-- .entry-content -->
<div class="comments-area" id="comments"><div class="pb-30"><section id="utterances-comments"><script async="" crossorigin="anonymous" data-cfasync="false" data-issue-term="pathname" data-repo="jameskilbynet/jkcoukblog" data-theme="github-dark" src="https://utteranc.es/client.js"></script></section></div></div><footer class="entry-footer">
</footer><!-- .entry-footer -->
</div>
</article><!-- #post-7306 -->
<nav aria-label="Posts" class="navigation post-navigation">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="/2026/01/web-development-improvements/" rel="prev"><div class="post-navigation-sub"><small><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-left-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg"><title>Previous</title><path d="M28 12.5v3c0 0.281-0.219 0.5-0.5 0.5h-19.5v3.5c0 0.203-0.109 0.375-0.297 0.453s-0.391 0.047-0.547-0.078l-6-5.469c-0.094-0.094-0.156-0.219-0.156-0.359v0c0-0.141 0.063-0.281 0.156-0.375l6-5.531c0.156-0.141 0.359-0.172 0.547-0.094 0.172 0.078 0.297 0.25 0.297 0.453v3.5h19.5c0.281 0 0.5 0.219 0.5 0.5z"></path>
</svg></span>Previous</small></div>Web Development Improvements</a></div></div>
</nav> <div class="entry-related alignfull entry-related-style-wide">
<div class="entry-related-inner content-container site-container">
<div class="entry-related-inner-content alignwide">
<h2 class="entry-related-title" id="related-posts-title">Similar Posts</h2> <div aria-labelledby="related-posts-title" class="entry-related-carousel kadence-slide-init splide" data-columns-md="3" data-columns-sm="2" data-columns-ss="1" data-columns-xl="3" data-columns-xs="2" data-columns-xxl="3" data-slider-anim-speed="400" data-slider-arrows="true" data-slider-auto="false" data-slider-dots="true" data-slider-gutter="40" data-slider-hover-pause="false" data-slider-loop="true" data-slider-next-label="Next" data-slider-prev-label="Previous" data-slider-scroll="1" data-slider-slide-label="Posts" data-slider-speed="7000">
<div class="splide__track">
<ul class="splide__list kadence-posts-list grid-cols grid-sm-col-2 grid-lg-col-3">
<li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-4869 post type-post status-publish format-standard has-post-thumbnail hentry category-vmware category-personal tag-charity tag-epic tag-rnli tag-vmware">
<a aria-hidden="true" aria-label="VMware ‚Äì Going out with a Bang!" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2023/10/going-out-with-a-bang/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<picture><source srcset="/wp-content/uploads/2023/10/rnli-logo-768x384.avif" type="image/avif"/><img alt="VMware ‚Äì Going out with a Bang!" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" fetchpriority="high" height="384" loading="eager" sizes="(max-width: 768px) 100vw, 400px" src="/wp-content/uploads/2023/10/rnli-logo-768x384.png" srcset="/wp-content/uploads/2023/10/rnli-logo-768x384.png 768w, /wp-content/uploads/2023/10/rnli-logo-300x150.png 300w, /wp-content/uploads/2023/10/rnli-logo-1024x512.png 1024w, /wp-content/uploads/2023/10/rnli-logo.png 1200w" width="768"/></picture> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> | <a class="category-link-personal" href="/category/personal/" rel="tag">Personal</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2023/10/going-out-with-a-bang/" rel="bookmark">VMware ‚Äì Going out with a Bang!</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2023-10-07T12:37:14+00:00" itemprop="datePublished">October 7, 2023</time><time class="updated" datetime="2023-11-17T15:22:18+00:00" itemprop="dateModified">November 17, 2023</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>There is a lot of uncertainty with VMware at the moment. This is all due to the pending acquisition by Broadcom. There are a lot of unknowns for the staff and customers about what the company will look like in the future. I certainly have some concerns mainly just with the unknown. However, VMware has‚Ä¶</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2023/10/going-out-with-a-bang/">
				Read More<span class="screen-reader-text"> VMware ‚Äì Going out with a Bang!</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-4627 post type-post status-publish format-standard has-post-thumbnail hentry category-runecast category-vmware tag-homelab tag-powercli tag-runecast tag-vmware">
<a aria-hidden="true" aria-label="Runecast Remediation Script‚Äôs" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2023/05/runecast-remediation-scripts/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<picture><source srcset="/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.avif" type="image/avif"/><img alt="Runecast Remediation Script‚Äôs" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="300" loading="eager" sizes="(max-width: 571px) 100vw, 571px" src="/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png" srcset="/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png 571w, /wp-content/uploads/2023/05/Runecast-Solutions-Ltd-300x158.png 300w" width="571"/></picture> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-runecast" href="/category/runecast/" rel="tag">Runecast</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2023/05/runecast-remediation-scripts/" rel="bookmark">Runecast Remediation Script‚Äôs</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2023-05-16T10:38:45+00:00" itemprop="datePublished">May 16, 2023</time><time class="updated" datetime="2023-11-17T15:28:57+00:00" itemprop="dateModified">November 17, 2023</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>I am a huge fan of the Runecast product and luckily as a vExpert they give out NFR licences for my lab. One of the really cool features I wanted to mention today was the remediation script function. I have been playing with storage a lot in my lab recently as part of a wider‚Ä¶</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2023/05/runecast-remediation-scripts/">
				Read More<span class="screen-reader-text"> Runecast Remediation Script‚Äôs</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-6 post type-post status-publish format-standard hentry category-homelab category-storage category-synology tag-homelab tag-storage">
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-storage" href="/category/storage/" rel="tag">Storage</a> | <a class="category-link-synology" href="/category/synology/" rel="tag">Synology</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2018/01/lab-storage/" rel="bookmark">Lab Storage</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2018-01-06T17:39:20+00:00" itemprop="datePublished">January 6, 2018</time><time class="updated" datetime="2024-07-10T08:56:51+00:00" itemprop="dateModified">July 10, 2024</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>I have been meaning to post around some of the lab setup for a while.¬† ¬†Although it changes frequently at present it‚Äôs as below.¬† I will add some pics when I have tidied up the lab/cables My primary lab storage is all contained within an HP Gen8 Microserver. Currently Configured: 1x¬†INTEL Core i3-4130 running at‚Ä¶</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2018/01/lab-storage/">
				Read More<span class="screen-reader-text"> Lab Storage</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-4898 post type-post status-publish format-standard has-post-thumbnail hentry category-homelab category-vmware tag-homelab tag-nvidia tag-vgpu">
<a aria-hidden="true" aria-label="Nvidia Tesla P4 Homelab Setup" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2023/10/vgpu-setup-in-my-homelab/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<picture><source srcset="/wp-content/uploads/2023/10/IMG_1107-768x403-1.avif" type="image/avif"/><img alt="Nvidia Tesla P4 Homelab Setup" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="403" loading="lazy" sizes="(max-width: 768px) 100vw, 400px" src="/wp-content/uploads/2023/10/IMG_1107-768x403-1.jpg" srcset="/wp-content/uploads/2023/10/IMG_1107-768x403-1.jpg 768w, /wp-content/uploads/2023/10/IMG_1107-768x403-1-300x157.jpg 300w" width="768"/></picture> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2023/10/vgpu-setup-in-my-homelab/" rel="bookmark">Nvidia Tesla P4 Homelab Setup</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2023-10-23T14:56:58+00:00" itemprop="datePublished">October 23, 2023</time><time class="updated" datetime="2024-07-10T10:54:03+00:00" itemprop="dateModified">July 10, 2024</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>A little while ago I decided to play with vGPU in my homelab. This was something I had dabbled with in the past but never really had the time or need to get working properly. The first thing that I needed was a GPU. I did have a Dell T20 with an iGPU built into‚Ä¶</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2023/10/vgpu-setup-in-my-homelab/">
				Read More<span class="screen-reader-text"> Nvidia Tesla P4 Homelab Setup</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-5945 post type-post status-publish format-standard has-post-thumbnail hentry category-homelab category-storage category-truenas-scale tag-homelab tag-storage">
<a aria-hidden="true" aria-label="Can you really squeeze 96TB in 1U ?" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2024/09/can-you-really-squeeze-96tb-in-1u/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<picture><source srcset="/wp-content/uploads/2024/09/QuantaGrid-SD1Q-1ULH-Front-Three-Quarter.avif" type="image/avif"/><img alt="Can you really squeeze 96TB in 1U ?" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="435" loading="lazy" sizes="auto, (max-width: 758px) 100vw, 758px" src="/wp-content/uploads/2024/09/QuantaGrid-SD1Q-1ULH-Front-Three-Quarter.png" srcset="/wp-content/uploads/2024/09/QuantaGrid-SD1Q-1ULH-Front-Three-Quarter.png 758w, /wp-content/uploads/2024/09/QuantaGrid-SD1Q-1ULH-Front-Three-Quarter-300x172.png 300w" width="758"/></picture> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-storage" href="/category/storage/" rel="tag">Storage</a> | <a class="category-link-truenas-scale" href="/category/truenas-scale/" rel="tag">TrueNAS Scale</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2024/09/can-you-really-squeeze-96tb-in-1u/" rel="bookmark">Can you really squeeze 96TB in 1U ?</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2024-09-12T12:39:16+00:00" itemprop="datePublished">September 12, 2024</time><time class="updated" datetime="2025-10-01T15:22:12+00:00" itemprop="dateModified">October 1, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>Yes, that‚Äôs a clickbait title. But technically it‚Äôs possible if I dropped all drive redundancy‚Ä¶ I recently saw an advert for a server that was just too good to be true. It promised to bring a huge amount of storage and future options in a quite hard-to-believe 1U. The price it was on offer for‚Ä¶</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2024/09/can-you-really-squeeze-96tb-in-1u/">
				Read More<span class="screen-reader-text"> Can you really squeeze 96TB in 1U ?</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-5343 post type-post status-publish format-standard has-post-thumbnail hentry category-vcf category-vmware tag-cpu tag-holodeck tag-homelab tag-vmware">
<a aria-hidden="true" aria-label="Holodeck CPU Fixes" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2024/01/holodeck-cpu-fixes/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<picture><source srcset="/wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743-768x737.avif" type="image/avif"/><img alt="Holodeck CPU Fixes" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="737" loading="lazy" sizes="(max-width: 768px) 100vw, 400px" src="/wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743-768x737.jpg" srcset="/wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743-768x737.jpg 768w, /wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743-300x288.jpg 300w, /wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743.jpg 1000w" width="768"/></picture> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-vcf" href="/category/vmware/vcf/" rel="tag">VCF</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2024/01/holodeck-cpu-fixes/" rel="bookmark">Holodeck CPU Fixes</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2024-01-18T14:37:04+00:00" itemprop="datePublished">January 18, 2024</time><time class="updated" datetime="2024-07-10T07:21:58+00:00" itemprop="dateModified">July 10, 2024</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>How to deploy Holodeck with Legacy CPU‚Äôs</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2024/01/holodeck-cpu-fixes/">
				Read More<span class="screen-reader-text"> Holodeck CPU Fixes</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li> </ul>
</div>
</div>
</div>
</div>
</div><!-- .entry-author -->
</div>
</div><!-- #main -->
</div>
</div><!-- #primary -->
</main><!-- #inner-wrap -->
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-footer-wrap">
<div class="site-bottom-footer-wrap site-footer-row-container site-footer-focus-item site-footer-row-layout-standard site-footer-row-tablet-layout-default site-footer-row-mobile-layout-default" data-section="kadence_customizer_footer_bottom">
<div class="site-footer-row-container-inner">
<div class="site-container">
<div class="site-bottom-footer-inner-wrap site-footer-row site-footer-row-columns-1 site-footer-row-column-layout-row site-footer-row-tablet-column-layout-default site-footer-row-mobile-column-layout-row ft-ro-dir-row ft-ro-collapse-normal ft-ro-t-dir-default ft-ro-m-dir-default ft-ro-lstyle-plain">
<div class="site-footer-bottom-section-1 site-footer-section footer-section-inner-items-1">
<div class="footer-widget-area site-info site-footer-focus-item content-align-default content-tablet-align-default content-mobile-align-default content-valign-default content-tablet-valign-default content-mobile-valign-default" data-section="kadence_customizer_footer_html">
<div class="footer-widget-area-inner site-info-inner">
<div class="footer-html inner-link-style-normal"><div class="footer-html-inner">
</div></div> </div>
</div><!-- .site-info -->
</div>
</div>
</div>
</div>
</div>
</div>
</footer><!-- #colophon -->
</div><!-- #wrapper -->
<script>document.documentElement.style.setProperty('--scrollbar-offset', window.innerWidth - document.documentElement.clientWidth + 'px' );</script>
<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"/*"},{"not":{"href_matches":["/wp-*.php","/wp-admin/*","/wp-content/uploads/*","/wp-content/*","/wp-content/plugins/*","/wp-content/themes/kadence/*","/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<div class="popup-drawer popup-drawer-layout-sidepanel popup-drawer-animation-fade popup-drawer-side-right" data-drawer-target-string="#mobile-drawer" id="mobile-drawer">
<div class="drawer-overlay" data-drawer-target-string="#mobile-drawer"></div>
<div class="drawer-inner">
<div class="drawer-header">
<button aria-expanded="false" aria-label="Close menu" class="menu-toggle-close drawer-toggle" data-set-focus=".menu-toggle-open" data-toggle-body-class="showing-popup-drawer-from-right" data-toggle-target="#mobile-drawer">
<span class="toggle-close-bar"></span>
<span class="toggle-close-bar"></span>
</button>
</div>
<div class="drawer-content mobile-drawer-content content-align-left content-valign-top">
<div class="site-header-item site-header-focus-item site-header-item-mobile-navigation mobile-navigation-layout-stretch-false" data-section="kadence_customizer_mobile_navigation">
<nav aria-label="Primary Mobile" class="mobile-navigation drawer-navigation drawer-navigation-parent-toggle-false" id="mobile-site-navigation" role="navigation">
<div class="mobile-menu-container drawer-menu-container">
<ul class="menu has-collapse-sub-nav" id="mobile-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7329"><a href="/about-me/">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324"><a href="/evs/">AWS EVS</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7325"><a href="/vmc/">VMC</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7327"><a href="/media/">Media</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7326"><a href="/homelab-software/">HomeLab ‚Äì Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7328"><a href="/lab/">Homelab ‚Äì Hardware</a></li>
</ul> </div>
</nav><!-- #site-navigation -->
</div><!-- data-section="mobile_navigation" -->
</div>
</div>
</div>
<script id="wpo_min-footer-0-js-extra">
var kadenceConfig = {"screenReader":{"expand":"Child menu","expandOf":"Child menu of","collapse":"Child menu","collapseOf":"Child menu of"},"breakPoints":{"desktop":"1024","tablet":768},"scrollOffset":"0"};
var kadenceSlideConfig = {"of":"of","to":"to","slide":"Slide","next":"Next","prev":"Previous"};
//# sourceURL=wpo_min-footer-0-js-extra
</script>
<script id="wpo_min-footer-0-js" src="/wp-content/cache/wpo-minify/1768392179/assets/wpo-minify-footer-20d41812.min.js"></script>
<script>
(function() {
    document.querySelectorAll('.copy-code-button').forEach(function(button) {
        button.addEventListener('click', function() {
            var pre = this.previousElementSibling;
            var code = pre.querySelector('code') || pre;
            var text = code.textContent || code.innerText;
            
            // Copy to clipboard
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(function() {
                    // Success feedback
                    button.textContent = '‚úÖ Copied!';
                    button.style.background = '#48bb78';
                    setTimeout(function() {
                        button.textContent = 'üìã Copy';
                        button.style.background = '#2d3748';
                    }, 2000);
                }).catch(function() {
                    button.textContent = '‚ùå Failed';
                    setTimeout(function() {
                        button.textContent = 'üìã Copy';
                    }, 2000);
                });
            } else {
                // Fallback for older browsers
                var textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    button.textContent = '‚úÖ Copied!';
                    button.style.background = '#48bb78';
                    setTimeout(function() {
                        button.textContent = 'üìã Copy';
                        button.style.background = '#2d3748';
                    }, 2000);
                } catch (err) {
                    button.textContent = '‚ùå Failed';
                    setTimeout(function() {
                        button.textContent = 'üìã Copy';
                    }, 2000);
                }
                document.body.removeChild(textarea);
            }
        });
        
        // Hover effects
        button.addEventListener('mouseenter', function() {
            this.style.opacity = '1';
            this.style.background = '#4a5568';
        });
        button.addEventListener('mouseleave', function() {
            this.style.opacity = '0.8';
            this.style.background = '#2d3748';
        });
    });
})();
</script><script data-cfasync="false" src="/js/search.js"></script>
</body>
</html>
