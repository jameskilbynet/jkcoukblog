{
  "slug": "runecast-remediation-scripts",
  "title": "Runecast Remediation Script‚Äôs",
  "description": "Using Runecast to autogenerate PowerCLI to remediate discovered issues",
  "date": "2023-05-16T10:38:45Z",
  "modified": "2023-11-17T15:28:57Z",
  "author": "James Kilby",
  "url": "https://jameskilby.co.uk/2023/05/runecast-remediation-scripts/",
  "markdown_url": "/markdown/posts/runecast-remediation-scripts.md",
  "api_url": "/api/posts/runecast-remediation-scripts.json",
  "categories": [
    "Runecast",
    "VMware",
    "Docker",
    "Homelab",
    "Hosting",
    "Kubernetes",
    "vSphere",
    "VCF",
    "Personal",
    "AWS",
    "Veeam",
    "Artificial Intelligence"
  ],
  "tags": [
    null,
    null,
    null,
    null
  ],
  "image": "https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png",
  "content": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Script‚Äôs\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 ‚Ä¢ üìñ2 min read(442 words)\n\nüìÖ **Published:** May 16, 2023‚Ä¢ **Updated:** November 17, 2023\n\nI am a huge fan of the Runecast product and luckily as a vExpert they give out NFR licences for my lab. One of the really cool features I wanted to mention today was the remediation script function. \n\nI have been playing with storage a lot in my lab recently as part of a wider storage migration piece but also as part of testing Intel Optane drives. Runecast flagged up that I didn‚Äôt have Storage I/O Control enabled for these data stores. It gave a great overview of what that issue means:\n\nIt is a good practice to enable SIOC, especially in environments where storage is overutilized. SIOC monitors the latency of I/Os to data stores at each ESX host sharing that device. When the average normalized datastore latency exceeds a set threshold (30ms by default), the datastore is considered to be congested, and SIOC kicks in to distribute the available storage resources to virtual machines in proportion to their shares. This is to ensure that low-priority workloads do not monopolize or reduce I/O bandwidth for high-priority workloads.\n\nBut the issue I want to highlight is it will generate the code to resolve it for you. \n\nIf I drill into the specific issue I get the below view\n\n![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Screenshot-2023-05-16-at-11.31.30-1024x536.png)\n\nHere you can confirm the discovered issue and the remediation action. ( I have chosen not to enable SIOC on my ISO-NFS datastore)\n\nThe below code is what Runecast generated for me.\n    \n    \n    # Automatically generated action. Always review before executing.\n    \n    # Start of the section for Enabling of Storage IO control on datastore\n    # This action is going to be performed on the following Datastores: \"Optane-iSCSI\"\n    \n    Write-Host \"`n[RCA] Connecting to vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    $vcConnection = Connect-VIServer -Server \"uk-poo-p-vc-1.jameskilby.cloud\"\n    \n    $datastoreIds = \"Datastore-datastore-50097\"\n    \n    foreach($datastoreId in $datastoreIds) \n    {\n        try \n        {\n            $ds = Get-Datastore -Id $datastoreId -ErrorAction Stop\n            Write-Host \"`n[RCA] Reconfiguring datastore with current name $($ds.name)\" -ForegroundColor Yellow\n            Write-Host \"`n[RCA] Enabling Storage I/O Control\" -ForegroundColor Yellow\n            $ds | Set-Datastore -StorageIOControlEnabled $true -ErrorAction Stop | Format-Table name,Id,StorageIOControlEnabled\n            \n        }\n        catch \n        {\n            Write-Host \"`n[RCA] Datastore with ID $datastoreId was not found or the reconfiguration failed\" -ForegroundColor Red\n        }\n        \n    }\n    \n    Write-Host \"`n[RCA] Disconnecting from vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    Disconnect-VIServer $vcConnection -Confirm:$false\n    \n    # End of the section for Enabling of Storage IO control on datastore\n\nüìã Copy\n\nDropping this into a PowerCLI session we get‚Ä¶.\n    \n    \n    [RCA] Connecting to vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    \n    Specify Credential\n    Please specify server credential\n    User: administrator@vsphere.cloud\n    Password for user administrator@vsphere.cloud: ************\n    \n    \n    [RCA] Reconfiguring datastore with current name Optane-iSCSI\n    \n    [RCA] Enabling Storage I/O Control\n    \n    Name         Id                        StorageIOControlEnabled\n    ----         --                        -----------------------\n    Optane-iSCSI Datastore-datastore-50097                    True\n    \n    \n    [RCA] Disconnecting from vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    PS /Users/w20kilja> \n\nüìã Copy\n\nWhat an amazing little feature\n\n## Similar Posts\n\n  * [ ![Use Portainer in a Homelab with GitHub](https://jameskilby.co.uk/wp-content/uploads/2022/12/22225832.png) ](https://jameskilby.co.uk/2022/12/use-portainer-in-a-homelab-with-github/)\n\n[Docker](https://jameskilby.co.uk/category/docker/) | [Homelab](https://jameskilby.co.uk/category/homelab/) | [Hosting](https://jameskilby.co.uk/category/hosting/) | [Kubernetes](https://jameskilby.co.uk/category/kubernetes/)\n\n### [Use Portainer in a Homelab with GitHub](https://jameskilby.co.uk/2022/12/use-portainer-in-a-homelab-with-github/)\n\nBy[James](https://jameskilby.co.uk) December 9, 2022October 1, 2025\n\nLate to the party or not, I have been using containers in my lab more and more and that has led me to Portainer‚Ä¶. I use it for managing the docker containers on my Synology but it can also be used for managing lots of other things. In their own words ‚ÄúPortainer accelerates container adoption‚Ä¶.\n\n  * [ ![Forcing an Upgrade to vSphere 8](https://jameskilby.co.uk/wp-content/uploads/2022/12/Screenshot-2022-12-14-at-21.45.23.png) ](https://jameskilby.co.uk/2022/12/forcing-an-upgrade-to-vsphere-8/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [VMware](https://jameskilby.co.uk/category/vmware/) | [vSphere](https://jameskilby.co.uk/category/vsphere/)\n\n### [Forcing an Upgrade to vSphere 8](https://jameskilby.co.uk/2022/12/forcing-an-upgrade-to-vsphere-8/)\n\nBy[James](https://jameskilby.co.uk) December 14, 2022October 1, 2025\n\nI run a reasonably extensive homelab that is of course built around the VMware ecosystem. So with the release of vSphere 8 I was obviously going to upgrade however a few personal things blocked me from doing it until now. The vCenter upgrade was smooth however knowing that some of the hardware I am running‚Ä¶\n\n  * [ ![MultiHost Holodeck VCF](https://jameskilby.co.uk/wp-content/uploads/2023/12/Holodeck-Overview.png) ](https://jameskilby.co.uk/2024/01/multihost-holodeck-vcf/)\n\n[VMware](https://jameskilby.co.uk/category/vmware/) | [VCF](https://jameskilby.co.uk/category/vmware/vcf/)\n\n### [MultiHost Holodeck VCF](https://jameskilby.co.uk/2024/01/multihost-holodeck-vcf/)\n\nBy[James](https://jameskilby.co.uk) January 17, 2024January 18, 2026\n\nHow to Deploy VMware Holodeck on multiple hosts\n\n  * [ ![VMware ‚Äì Going out with a Bang!](https://jameskilby.co.uk/wp-content/uploads/2023/10/rnli-logo-768x384.png) ](https://jameskilby.co.uk/2023/10/going-out-with-a-bang/)\n\n[VMware](https://jameskilby.co.uk/category/vmware/) | [Personal](https://jameskilby.co.uk/category/personal/)\n\n### [VMware ‚Äì Going out with a Bang!](https://jameskilby.co.uk/2023/10/going-out-with-a-bang/)\n\nBy[James](https://jameskilby.co.uk) October 7, 2023November 17, 2023\n\nThere is a lot of uncertainty with VMware at the moment. This is all due to the pending acquisition by Broadcom. There are a lot of unknowns for the staff and customers about what the company will look like in the future. I certainly have some concerns mainly just with the unknown. However, VMware has‚Ä¶\n\n  * [VMware](https://jameskilby.co.uk/category/vmware/) | [AWS](https://jameskilby.co.uk/category/aws/) | [Veeam](https://jameskilby.co.uk/category/veeam/)\n\n### [Monitoring VMC ‚Äì Part 1](https://jameskilby.co.uk/2019/12/monitoring-vmc-part-1/)\n\nBy[James](https://jameskilby.co.uk) December 17, 2019October 1, 2025\n\nAs previously mentioned I have been working a lot with VMware Cloud on AWS and one of the questions that often crops up is around an approach to monitoring. This is an interesting topic as VMC is technically ‚Äúas a service‚Äù therefore the monitoring approach is a bit different. Technically AWS and VMware‚Äôs SRE teams‚Ä¶\n\n  * [ ![Wa](https://jameskilby.co.uk/wp-content/uploads/2025/04/210902461-012e7273-413a-4ec7-be44-e854347f5a21-768x180.png) ](https://jameskilby.co.uk/2025/04/warp-the-intelligent-terminal/)\n\n[Artificial Intelligence](https://jameskilby.co.uk/category/artificial-intelligence/) | [Homelab](https://jameskilby.co.uk/category/homelab/)\n\n### [Warp ‚Äì The intelligent terminal](https://jameskilby.co.uk/2025/04/warp-the-intelligent-terminal/)\n\nBy[James](https://jameskilby.co.uk) April 11, 2025October 3, 2025\n\nHow Warp is helping me run my homelab.",
  "excerpt": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Script‚Äôs\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 ‚Ä¢ üìñ2 ..."
}