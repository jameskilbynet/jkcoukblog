{
  "slug": "runecast-remediation-scripts",
  "title": "Runecast Remediation Scriptâ€™s",
  "description": "Using Runecast to autogenerate PowerCLI to remediate discovered issues",
  "date": "2023-05-16T10:38:45Z",
  "modified": "2023-11-17T15:28:57Z",
  "author": "James Kilby",
  "url": "https://jameskilby.co.uk/2023/05/runecast-remediation-scripts/",
  "markdown_url": "/markdown/posts/runecast-remediation-scripts.md",
  "api_url": "/api/posts/runecast-remediation-scripts.json",
  "categories": [
    "Runecast",
    "VMware",
    "Ansible",
    "Artificial Intelligence",
    "Containers",
    "Devops",
    "Homelab",
    "NVIDIA",
    "Traefik",
    "Storage",
    "vExpert",
    "Veeam",
    "Personal",
    "vSphere",
    "VMware Cloud on AWS",
    "TrueNAS Scale",
    "vSAN"
  ],
  "tags": [
    null,
    null,
    null,
    null
  ],
  "image": "https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png",
  "content": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Scriptâ€™s\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 â€¢ ðŸ“–2 min read(442 words)\n\nðŸ“… **Published:** May 16, 2023â€¢ **Updated:** November 17, 2023\n\nI am a huge fan of the Runecast product and luckily as a vExpert they give out NFR licences for my lab. One of the really cool features I wanted to mention today was the remediation script function. \n\nI have been playing with storage a lot in my lab recently as part of a wider storage migration piece but also as part of testing Intel Optane drives. Runecast flagged up that I didnâ€™t have Storage I/O Control enabled for these data stores. It gave a great overview of what that issue means:\n\nIt is a good practice to enable SIOC, especially in environments where storage is overutilized. SIOC monitors the latency of I/Os to data stores at each ESX host sharing that device. When the average normalized datastore latency exceeds a set threshold (30ms by default), the datastore is considered to be congested, and SIOC kicks in to distribute the available storage resources to virtual machines in proportion to their shares. This is to ensure that low-priority workloads do not monopolize or reduce I/O bandwidth for high-priority workloads.\n\nBut the issue I want to highlight is it will generate the code to resolve it for you. \n\nIf I drill into the specific issue I get the below view\n\n![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Screenshot-2023-05-16-at-11.31.30-1024x536.png)\n\nHere you can confirm the discovered issue and the remediation action. ( I have chosen not to enable SIOC on my ISO-NFS datastore)\n\nThe below code is what Runecast generated for me.\n    \n    \n    # Automatically generated action. Always review before executing.\n    \n    # Start of the section for Enabling of Storage IO control on datastore\n    # This action is going to be performed on the following Datastores: \"Optane-iSCSI\"\n    \n    Write-Host \"`n[RCA] Connecting to vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    $vcConnection = Connect-VIServer -Server \"uk-poo-p-vc-1.jameskilby.cloud\"\n    \n    $datastoreIds = \"Datastore-datastore-50097\"\n    \n    foreach($datastoreId in $datastoreIds) \n    {\n        try \n        {\n            $ds = Get-Datastore -Id $datastoreId -ErrorAction Stop\n            Write-Host \"`n[RCA] Reconfiguring datastore with current name $($ds.name)\" -ForegroundColor Yellow\n            Write-Host \"`n[RCA] Enabling Storage I/O Control\" -ForegroundColor Yellow\n            $ds | Set-Datastore -StorageIOControlEnabled $true -ErrorAction Stop | Format-Table name,Id,StorageIOControlEnabled\n            \n        }\n        catch \n        {\n            Write-Host \"`n[RCA] Datastore with ID $datastoreId was not found or the reconfiguration failed\" -ForegroundColor Red\n        }\n        \n    }\n    \n    Write-Host \"`n[RCA] Disconnecting from vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    Disconnect-VIServer $vcConnection -Confirm:$false\n    \n    # End of the section for Enabling of Storage IO control on datastore\n\nðŸ“‹ Copy\n\nDropping this into a PowerCLI session we getâ€¦.\n    \n    \n    [RCA] Connecting to vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    \n    Specify Credential\n    Please specify server credential\n    User: administrator@vsphere.cloud\n    Password for user administrator@vsphere.cloud: ************\n    \n    \n    [RCA] Reconfiguring datastore with current name Optane-iSCSI\n    \n    [RCA] Enabling Storage I/O Control\n    \n    Name         Id                        StorageIOControlEnabled\n    ----         --                        -----------------------\n    Optane-iSCSI Datastore-datastore-50097                    True\n    \n    \n    [RCA] Disconnecting from vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    PS /Users/w20kilja> \n\nðŸ“‹ Copy\n\nWhat an amazing little feature\n\n## Similar Posts\n\n  * [ ![Automating the deployment of my Homelab AI  Infrastructure](https://jameskilby.co.uk/wp-content/uploads/2026/01/VMware-NVIDIA-logos_ee2f18dc-615d-4c9e-8f11-9c3c2ce2bf37-prv-768x432.png) ](https://jameskilby.co.uk/2026/02/automating-the-deployment-of-my-ai-homelab-and-other-improvements/)\n\n[Ansible](https://jameskilby.co.uk/category/ansible/) | [Artificial Intelligence](https://jameskilby.co.uk/category/artificial-intelligence/) | [Containers](https://jameskilby.co.uk/category/containers/) | [Devops](https://jameskilby.co.uk/category/devops/) | [Homelab](https://jameskilby.co.uk/category/homelab/) | [NVIDIA](https://jameskilby.co.uk/category/nvidia/) | [Traefik](https://jameskilby.co.uk/category/traefik/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n### [Automating the deployment of my Homelab AI Infrastructure](https://jameskilby.co.uk/2026/02/automating-the-deployment-of-my-ai-homelab-and-other-improvements/)\n\nBy[James](https://jameskilby.co.uk) February 9, 2026February 9, 2026\n\nLearn how to use Ansible to configure an Ubuntu VM for use with NVIDIA based AI workloads in vSphere\n\n  * [ ![Intel Optane NVMe Homelab](https://jameskilby.co.uk/wp-content/uploads/2023/04/intel_optane_ssd_900p_series_aic_-_right_angle_575px.png) ](https://jameskilby.co.uk/2023/04/intel-optane/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Storage](https://jameskilby.co.uk/category/storage/) | [vExpert](https://jameskilby.co.uk/category/vexpert/)\n\n### [Intel Optane NVMe Homelab](https://jameskilby.co.uk/2023/04/intel-optane/)\n\nBy[James](https://jameskilby.co.uk) April 17, 2023October 1, 2025\n\nI have been a VMware vExpert for many years and it has brought me many many benefits over the years. I donâ€™t think itâ€™s an understatement to say I probably wouldnâ€™t have my current role within VMware without it. One of the best benefits has been access to a huge amount of licences for VMwareâ€¦\n\n  * [Homelab](https://jameskilby.co.uk/category/homelab/) | [Veeam](https://jameskilby.co.uk/category/veeam/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n### [Lab Update â€“ Desired Workloads](https://jameskilby.co.uk/2022/01/lab-update-part-5-desired-workloads/)\n\nBy[James](https://jameskilby.co.uk) January 6, 2022November 11, 2023\n\nMy lab is always undergoing change. Partially as I want to try new things or new ways of doing things. Sometimes because I break things (not always by accident) sometimes itâ€™s a great way to learnâ€¦. I decided to list the workloads I am looking to run (some of these are already in place) Infrastuctureâ€¦\n\n  * [ ![Advanced Deploy VMware vSphere 7.x 3V0-22.21N](https://jameskilby.co.uk/wp-content/uploads/2023/11/image.png) ](https://jameskilby.co.uk/2023/11/advanced-deploy-vmware-vsphere-7-x-3v0-22-21n/)\n\n[VMware](https://jameskilby.co.uk/category/vmware/) | [Personal](https://jameskilby.co.uk/category/personal/) | [vSphere](https://jameskilby.co.uk/category/vsphere/)\n\n### [Advanced Deploy VMware vSphere 7.x 3V0-22.21N](https://jameskilby.co.uk/2023/11/advanced-deploy-vmware-vsphere-7-x-3v0-22-21n/)\n\nBy[James](https://jameskilby.co.uk) November 10, 2023November 17, 2023\n\nYesterday I sat and passed the above exam. It had been on my todo list for a good number of years. With the current pause in the Broadcom VMware takeover deal. I had some downtime and decided to use one of the three exam vouchers VMware give me each year. This upgrades me to aâ€¦\n\n  * [ ![VMC Quick Sizing Guide](https://jameskilby.co.uk/wp-content/uploads/2025/02/Picture-1-e1768509620339-768x193.png) ](https://jameskilby.co.uk/2025/05/vmc-quick-sizing-guide/)\n\n[VMware](https://jameskilby.co.uk/category/vmware/) | [VMware Cloud on AWS](https://jameskilby.co.uk/category/vmware/vmware-cloud-on-aws/)\n\n### [VMC Quick Sizing Guide](https://jameskilby.co.uk/2025/05/vmc-quick-sizing-guide/)\n\nBy[James](https://jameskilby.co.uk) May 21, 2025July 2, 2025\n\nQuick reference guide to the available storage resources that you get in VMware Cloud on AWS\n\n  * [ ![How to Run ZFS on VMware vSphere: Setup Guide and Best Practices](https://jameskilby.co.uk/wp-content/uploads/2024/12/ZFS.jpg) ](https://jameskilby.co.uk/2024/12/zfs-on-vmware/)\n\n[TrueNAS Scale](https://jameskilby.co.uk/category/truenas-scale/) | [VMware](https://jameskilby.co.uk/category/vmware/) | [vSAN](https://jameskilby.co.uk/category/vmware/vsan-vmware/) | [vSphere](https://jameskilby.co.uk/category/vsphere/)\n\n### [How to Run ZFS on VMware vSphere: Setup Guide and Best Practices](https://jameskilby.co.uk/2024/12/zfs-on-vmware/)\n\nBy[James](https://jameskilby.co.uk) December 18, 2024February 3, 2026\n\nZFS on VMware Best Practices",
  "excerpt": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Scriptâ€™s\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 â€¢ ðŸ“–2 ..."
}