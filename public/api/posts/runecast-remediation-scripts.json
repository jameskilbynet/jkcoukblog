{
  "slug": "runecast-remediation-scripts",
  "title": "Runecast Remediation Scriptâ€™s",
  "description": "Using Runecast to autogenerate PowerCLI to remediate discovered issues",
  "date": "2023-05-16T10:38:45Z",
  "modified": "2023-11-17T15:28:57Z",
  "author": "James Kilby",
  "url": "https://jameskilby.co.uk/2023/05/runecast-remediation-scripts/",
  "markdown_url": "/markdown/posts/runecast-remediation-scripts.md",
  "api_url": "/api/posts/runecast-remediation-scripts.json",
  "categories": [
    "Runecast",
    "VMware",
    "VCF",
    "Artificial Intelligence",
    "Docker",
    "Hosting",
    "VMware Cloud on AWS",
    "Homelab",
    "Nutanix",
    "Storage",
    "Synology",
    "TrueNAS Scale",
    "vSAN",
    "vSphere"
  ],
  "tags": [
    null,
    null,
    null,
    null
  ],
  "image": "https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png",
  "content": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Scriptâ€™s\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 â€¢ ðŸ“–2 min read(442 words)\n\nðŸ“… **Published:** May 16, 2023â€¢ **Updated:** November 17, 2023\n\nI am a huge fan of the Runecast product and luckily as a vExpert they give out NFR licences for my lab. One of the really cool features I wanted to mention today was the remediation script function. \n\nI have been playing with storage a lot in my lab recently as part of a wider storage migration piece but also as part of testing Intel Optane drives. Runecast flagged up that I didnâ€™t have Storage I/O Control enabled for these data stores. It gave a great overview of what that issue means:\n\nIt is a good practice to enable SIOC, especially in environments where storage is overutilized. SIOC monitors the latency of I/Os to data stores at each ESX host sharing that device. When the average normalized datastore latency exceeds a set threshold (30ms by default), the datastore is considered to be congested, and SIOC kicks in to distribute the available storage resources to virtual machines in proportion to their shares. This is to ensure that low-priority workloads do not monopolize or reduce I/O bandwidth for high-priority workloads.\n\nBut the issue I want to highlight is it will generate the code to resolve it for you. \n\nIf I drill into the specific issue I get the below view\n\n![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Screenshot-2023-05-16-at-11.31.30-1024x536.png)\n\nHere you can confirm the discovered issue and the remediation action. ( I have chosen not to enable SIOC on my ISO-NFS datastore)\n\nThe below code is what Runecast generated for me.\n    \n    \n    # Automatically generated action. Always review before executing.\n    \n    # Start of the section for Enabling of Storage IO control on datastore\n    # This action is going to be performed on the following Datastores: \"Optane-iSCSI\"\n    \n    Write-Host \"`n[RCA] Connecting to vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    $vcConnection = Connect-VIServer -Server \"uk-poo-p-vc-1.jameskilby.cloud\"\n    \n    $datastoreIds = \"Datastore-datastore-50097\"\n    \n    foreach($datastoreId in $datastoreIds) \n    {\n        try \n        {\n            $ds = Get-Datastore -Id $datastoreId -ErrorAction Stop\n            Write-Host \"`n[RCA] Reconfiguring datastore with current name $($ds.name)\" -ForegroundColor Yellow\n            Write-Host \"`n[RCA] Enabling Storage I/O Control\" -ForegroundColor Yellow\n            $ds | Set-Datastore -StorageIOControlEnabled $true -ErrorAction Stop | Format-Table name,Id,StorageIOControlEnabled\n            \n        }\n        catch \n        {\n            Write-Host \"`n[RCA] Datastore with ID $datastoreId was not found or the reconfiguration failed\" -ForegroundColor Red\n        }\n        \n    }\n    \n    Write-Host \"`n[RCA] Disconnecting from vCenter Server \"uk-poo-p-vc-1.jameskilby.cloud\"...\" -ForegroundColor Cyan\n    Disconnect-VIServer $vcConnection -Confirm:$false\n    \n    # End of the section for Enabling of Storage IO control on datastore\n\nðŸ“‹ Copy\n\nDropping this into a PowerCLI session we getâ€¦.\n    \n    \n    [RCA] Connecting to vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    \n    Specify Credential\n    Please specify server credential\n    User: administrator@vsphere.cloud\n    Password for user administrator@vsphere.cloud: ************\n    \n    \n    [RCA] Reconfiguring datastore with current name Optane-iSCSI\n    \n    [RCA] Enabling Storage I/O Control\n    \n    Name         Id                        StorageIOControlEnabled\n    ----         --                        -----------------------\n    Optane-iSCSI Datastore-datastore-50097                    True\n    \n    \n    [RCA] Disconnecting from vCenter Server  uk-poo-p-vc-1.jameskilby.cloud...\n    PS /Users/w20kilja> \n\nðŸ“‹ Copy\n\nWhat an amazing little feature\n\n## Similar Posts\n\n  * [ ![Holodeck CPU Fixes](https://jameskilby.co.uk/wp-content/uploads/2024/01/40oOd8IipPvtrPJs-1198788743-768x737.jpg) ](https://jameskilby.co.uk/2024/01/holodeck-cpu-fixes/)\n\n[VCF](https://jameskilby.co.uk/category/vmware/vcf/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n### [Holodeck CPU Fixes](https://jameskilby.co.uk/2024/01/holodeck-cpu-fixes/)\n\nBy[James](https://jameskilby.co.uk) January 18, 2024July 10, 2024\n\nHow to deploy Holodeck with Legacy CPUâ€™s\n\n  * [ ![How I Migrated from Pocket to Hoarder with AI Integration](https://jameskilby.co.uk/wp-content/uploads/2025/01/Screenshot-2025-01-29-at-23.30.47-768x411.png) ](https://jameskilby.co.uk/2025/01/how-i-migrated-from-pocket-to-hoarder-and-introduced-some-ai-along-the-way/)\n\n[Artificial Intelligence](https://jameskilby.co.uk/category/artificial-intelligence/) | [Docker](https://jameskilby.co.uk/category/docker/) | [Hosting](https://jameskilby.co.uk/category/hosting/)\n\n### [How I Migrated from Pocket to Hoarder with AI Integration](https://jameskilby.co.uk/2025/01/how-i-migrated-from-pocket-to-hoarder-and-introduced-some-ai-along-the-way/)\n\nBy[James](https://jameskilby.co.uk) January 29, 2025January 18, 2026\n\nUpdate: Hoarder has now been renamed to Karakeep due to a trademark issue Iâ€™ve been on a mission recently to regain control of my data. I havenâ€™t yet faced the humongous task of moving my main email from Gmail, but I have had some successes with other cloud services and a win is a winâ€¦â€¦.\n\n  * [ ![An in-depth look at VMware Cloud on AWS hosts](https://jameskilby.co.uk/wp-content/uploads/2025/02/Picture-1-e1768509620339-768x193.png) ](https://jameskilby.co.uk/2025/08/vmc-host-deepdive/)\n\n[VMware](https://jameskilby.co.uk/category/vmware/) | [VMware Cloud on AWS](https://jameskilby.co.uk/category/vmware/vmware-cloud-on-aws/)\n\n### [An in-depth look at VMware Cloud on AWS hosts](https://jameskilby.co.uk/2025/08/vmc-host-deepdive/)\n\nBy[James](https://jameskilby.co.uk) August 14, 2025January 18, 2026\n\nThis is single page intended to collate every single feature of the current VMware Cloud on AWS hosts for easy comparison. All of this data Is publicly available. I have just collated into a single page I3 I3en I4i CPU Processor Name Intel Xeon E5-2686 v4 Intel Xeon Platinum 8175 Intel Xeon 8375c No ofâ€¦\n\n  * [ ![New Nodes](https://jameskilby.co.uk/wp-content/uploads/2024/07/IMG_6629-768x149.jpeg) ](https://jameskilby.co.uk/2024/07/new-nodes/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Nutanix](https://jameskilby.co.uk/category/nutanix/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n### [New Nodes](https://jameskilby.co.uk/2024/07/new-nodes/)\n\nBy[James](https://jameskilby.co.uk) July 2, 2024January 18, 2026\n\nI recently decided to update some of my homelab hosts and I managed to do this at very little cost by offloading 2 of my Supermicro e200â€™s to fellow vExpert Paul. The below post describes what I bought why and how I have configured it. Table of Contents Node Choice Bill of Materials Rescue IPMIâ€¦\n\n  * [ ![Homelab bad days \\(almost\\)](https://jameskilby.co.uk/wp-content/uploads/2022/11/BrokenHardDive-1200x630-1-768x403.jpg) ](https://jameskilby.co.uk/2022/11/homelab-bad-days-almost/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Storage](https://jameskilby.co.uk/category/storage/) | [Synology](https://jameskilby.co.uk/category/synology/)\n\n### [Homelab bad days (almost)](https://jameskilby.co.uk/2022/11/homelab-bad-days-almost/)\n\nBy[James](https://jameskilby.co.uk) November 21, 2022April 8, 2023\n\nI recently spent 3 weeks in Ireland with my wife Wendy and our son Nate. This involves driving from the south coast of Dorset up to Scotland and then getting a ferry over to Belfast before travelling west to the Republic. While driving I got a slack notification that one of my SSDâ€™s in myâ€¦\n\n  * [ ![How to Run ZFS on VMware vSphere: Setup Guide and Best Practices](https://jameskilby.co.uk/wp-content/uploads/2024/12/ZFS.jpg) ](https://jameskilby.co.uk/2024/12/zfs-on-vmware/)\n\n[TrueNAS Scale](https://jameskilby.co.uk/category/truenas-scale/) | [VMware](https://jameskilby.co.uk/category/vmware/) | [vSAN](https://jameskilby.co.uk/category/vmware/vsan-vmware/) | [vSphere](https://jameskilby.co.uk/category/vsphere/)\n\n### [How to Run ZFS on VMware vSphere: Setup Guide and Best Practices](https://jameskilby.co.uk/2024/12/zfs-on-vmware/)\n\nBy[James](https://jameskilby.co.uk) December 18, 2024February 9, 2026\n\nZFS on VMware Best Practices",
  "excerpt": "![](https://jameskilby.co.uk/wp-content/uploads/2023/05/Runecast-Solutions-Ltd.png)\n\n[Runecast](https://jameskilby.co.uk/category/runecast/) | [VMware](https://jameskilby.co.uk/category/vmware/)\n\n# Runecast Remediation Scriptâ€™s\n\nBy[James](https://jameskilby.co.uk) May 16, 2023November 17, 2023 â€¢ ðŸ“–2 ..."
}