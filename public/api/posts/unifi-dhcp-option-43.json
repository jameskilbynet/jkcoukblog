{
  "slug": "unifi-dhcp-option-43",
  "title": "Configure DHCP Option 43 for UniFi devices to enable remote adoption across subnets",
  "description": "How to Configure DHCP Option 43 for use by my Unifi Devices in my Network",
  "date": "2024-06-26T10:50:17Z",
  "modified": "2026-01-18T21:40:37Z",
  "author": "James Kilby",
  "url": "https://jameskilby.co.uk/2024/06/unifi-dhcp-option-43/",
  "markdown_url": "/markdown/posts/unifi-dhcp-option-43.md",
  "api_url": "/api/posts/unifi-dhcp-option-43.json",
  "categories": [
    "Homelab",
    "Networking",
    "Artificial Intelligence",
    "Docker",
    "VMware",
    "vSphere",
    "Hosting"
  ],
  "tags": [
    null,
    null,
    null
  ],
  "image": "https://jameskilby.co.uk/wp-content/uploads/2024/06/Ubiquiti_Networks-Logo.wine_-1024x683.png",
  "content": "![](https://jameskilby.co.uk/wp-content/uploads/2024/06/Ubiquiti_Networks-Logo.wine_.png)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Networking](https://jameskilby.co.uk/category/networking/)\n\n# Configure DHCP Option 43 for UniFi devices to enable remote adoption across subnets\n\nBy[James](https://jameskilby.co.uk) June 26, 2024January 18, 2026 ‚Ä¢ üìñ1 min read(270 words)\n\nüìÖ **Published:** June 26, 2024‚Ä¢ **Updated:** January 18, 2026\n\n## Table of Contents\n\n## Intro\n\nI have recently juggled some of my homelab services around, which involved moving my UniFi server to a different subnet. This meant that new UniFi devices could not find the UniFi server for adoption/control purposes as this is usually done with broadcast.\n\n## Layer 3 Adoption Options\n\nFor Remote Adoption/Layer 3 UniFi supports:\n\n  * SSH\n  * DNS\n  * DHCP Option 43\n\nI discounted SSH as who wants to manually log into things and make changes and I discounted DNS. That left me with DHCP option 43\n\nI decided to configure my DHCP server to hand out ‚Äúoption 43‚Äù on the network subnet the Access Points were connected to. The implementation of this will differ depending on what DHCP server you are using. Mine is the one built into my WatchGuard Firebox M200.\n\nIn this, I have set a custom option and then it asks for four values:\n\nCode| 43  \n---|---  \nName | Unifi  \nType | Hexadecimal  \nValue | 01:04:c0:a8:14:02  \n  \nAll of which are straightforward except the last one so let me explain. It is made up of 2 parts\n\nThe first two parts 01:04 Is fixed for UniFi. I am hosting the controller on IP 192.168.20.2 The remaining part of the value (c0:a8:14:02) is the IP address of the UniFi controller in Hex. Please note this method does not support DNS.\n\nA multitude of tools exist for converting IP to HEX one can be found [here](https://www.browserling.com/tools/ip-to-hex)\n\nAnd there you have it. I can connect a factory fresh UniFi device to my network DHCP will hand out an IP on one subnet and tell the device how to reach the controller in a different subnet.\n\n## Similar Posts\n\n  * [ ![Lab Storage](https://jameskilby.co.uk/wp-content/uploads/2023/04/81-ZoEW24UL._SL1500_-768x461.jpg) ](https://jameskilby.co.uk/2019/02/lab-storage-2/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/)\n\n### [Lab Storage](https://jameskilby.co.uk/2019/02/lab-storage-2/)\n\nBy[James](https://jameskilby.co.uk) February 10, 2019July 10, 2024\n\nLab Storage Update. Since starting my new role with Xtravirt my Homelab has gone through several fairly significant changes. At the moment it‚Äôs very much focused on the VMware stack and one of the things I needed was some more storage and especially some more storage performance. With that in mind, I purchased a new Synology‚Ä¶\n\n  * [ ![Self Hosting AI Stack using vSphere, Docker and NVIDIA GPU](https://jameskilby.co.uk/wp-content/uploads/2024/10/pexels-tara-winstead-8386440-768x512.jpg) ](https://jameskilby.co.uk/2024/10/self-hosting-ai-stack-using-vsphere-docker-and-nvidia-gpu/)\n\n[Artificial Intelligence](https://jameskilby.co.uk/category/artificial-intelligence/) | [Docker](https://jameskilby.co.uk/category/docker/) | [Homelab](https://jameskilby.co.uk/category/homelab/)\n\n### [Self Hosting AI Stack using vSphere, Docker and NVIDIA GPU](https://jameskilby.co.uk/2024/10/self-hosting-ai-stack-using-vsphere-docker-and-nvidia-gpu/)\n\nBy[James](https://jameskilby.co.uk) October 11, 2024October 1, 2025\n\nArtificial intelligence is all the rage at the moment, It‚Äôs getting included in every product announcement from pretty much every vendor under the sun. Nvidia‚Äôs stock price has gone to the moon. So I thought I better get some knowledge and understand some of this. As it‚Äôs a huge field and I wasn‚Äôt exactly sure‚Ä¶\n\n  * [ ![Forcing an Upgrade to vSphere 8](https://jameskilby.co.uk/wp-content/uploads/2022/12/Screenshot-2022-12-14-at-21.45.23.png) ](https://jameskilby.co.uk/2022/12/forcing-an-upgrade-to-vsphere-8/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [VMware](https://jameskilby.co.uk/category/vmware/) | [vSphere](https://jameskilby.co.uk/category/vsphere/)\n\n### [Forcing an Upgrade to vSphere 8](https://jameskilby.co.uk/2022/12/forcing-an-upgrade-to-vsphere-8/)\n\nBy[James](https://jameskilby.co.uk) December 14, 2022October 1, 2025\n\nI run a reasonably extensive homelab that is of course built around the VMware ecosystem. So with the release of vSphere 8 I was obviously going to upgrade however a few personal things blocked me from doing it until now. The vCenter upgrade was smooth however knowing that some of the hardware I am running‚Ä¶\n\n  * [ ![Configuring a Zen Internet and City Fibre connection with a 3rd party router](https://jameskilby.co.uk/wp-content/uploads/2023/11/cityfibre-zen-768x403.jpg) ](https://jameskilby.co.uk/2023/11/configuring-a-zen-internet-and-city-fibre-connection-with-a-3rd-party-router/)\n\n[Networking](https://jameskilby.co.uk/category/networking/)\n\n### [Configuring a Zen Internet and City Fibre connection with a 3rd party router](https://jameskilby.co.uk/2023/11/configuring-a-zen-internet-and-city-fibre-connection-with-a-3rd-party-router/)\n\nBy[James](https://jameskilby.co.uk) November 15, 2023January 18, 2026\n\nBack in July I bought a new house and one of the best things about the property was that it was already in a City Fibre location. That meant I could take my Zen internet connection with me but ditch the ADSL (and Phone Line requirement). This gave me a much better connection in terms‚Ä¶\n\n  * [ ![Starlink](https://jameskilby.co.uk/wp-content/uploads/2022/10/spacexs-starlink-to-supply-free-satellite-internet-to-famili_u44u.1920-768x432.jpg) ](https://jameskilby.co.uk/2022/10/starlink/)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Hosting](https://jameskilby.co.uk/category/hosting/)\n\n### [Starlink](https://jameskilby.co.uk/2022/10/starlink/)\n\nBy[James](https://jameskilby.co.uk) October 11, 2022October 1, 2025\n\nSince moving to Dorset last year internet connectivity has been the bane of my existence. Currently, I have an ADSL connection provided by my old employer Zen and a 5G connection provided by Three. These are both plumbed into my WatchGuard Firewall with multi-wan configured. Most of the time the usability is ok but there‚Ä¶\n\n  * [ ![Wa](https://jameskilby.co.uk/wp-content/uploads/2025/04/210902461-012e7273-413a-4ec7-be44-e854347f5a21-768x180.png) ](https://jameskilby.co.uk/2025/04/warp-the-intelligent-terminal/)\n\n[Artificial Intelligence](https://jameskilby.co.uk/category/artificial-intelligence/) | [Homelab](https://jameskilby.co.uk/category/homelab/)\n\n### [Warp ‚Äì The intelligent terminal](https://jameskilby.co.uk/2025/04/warp-the-intelligent-terminal/)\n\nBy[James](https://jameskilby.co.uk) April 11, 2025October 3, 2025\n\nHow Warp is helping me run my homelab.",
  "excerpt": "![](https://jameskilby.co.uk/wp-content/uploads/2024/06/Ubiquiti_Networks-Logo.wine_.png)\n\n[Homelab](https://jameskilby.co.uk/category/homelab/) | [Networking](https://jameskilby.co.uk/category/networking/)\n\n# Configure DHCP Option 43 for UniFi devices to enable remote adoption across subnets\n\nBy[Ja..."
}