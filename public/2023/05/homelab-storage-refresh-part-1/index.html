<!DOCTYPE html>

<html class="no-js" itemscope="" itemtype="https://schema.org/Blog" lang="en-GB" prefix="og: https://ogp.me/ns#">
<head><link as="style" href="/wp-content/cache/wpo-minify/1765990838/assets/wpo-minify-header-a98b27a2.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/rankmath.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/footer.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/kadence-splide.min.css" rel="preload"/><link as="style" href="/wp-content/themes/kadence/assets/css/related-posts.min.css" rel="preload"/>
<link as="script" href="/wp-content/cache/wpo-minify/1765990838/assets/wpo-minify-footer-20ef1812.min.js" rel="preload"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, minimum-scale=1" name="viewport"/>
<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
<!-- Search Engine Optimization by Rank Math - https://rankmath.com/ -->
<title>Homelab Storage Refresh (Part 1) - Jameskilbycouk</title>
<meta content="Part 1 of my migration from Synology to TrueNAS scale" name="description">
<meta content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large" name="robots">
<link href="/2023/05/homelab-storage-refresh-part-1/" rel="canonical"/>
<meta content="en_GB" property="og:locale"/>
<meta content="article" property="og:type"/>
<meta content="Homelab Storage Refresh: TrueNAS Insights" property="og:title"/>
<meta content="Optimize your homelab storage with TrueNAS Scale now!" property="og:description"/>
<meta content="/2023/05/homelab-storage-refresh-part-1/" property="og:url"/>
<meta content="NAS" property="article:tag"/>
<meta content="TrueNAS Scale" property="article:tag"/>
<meta content="ZFS" property="article:tag"/>
<meta content="Homelab" property="article:section"/>
<meta content="2025-10-01T15:22:13+00:00" property="og:updated_time"/>
<meta content="/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png" property="og:image"/>
<meta content="/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png" property="og:image:secure_url"/>
<meta content="905" property="og:image:width"/>
<meta content="233" property="og:image:height"/>
<meta content="TrueNAS Logo" property="og:image:alt"/>
<meta content="image/png" property="og:image:type"/>
<meta content="2023-05-23T12:07:09+00:00" property="article:published_time"/>
<meta content="2025-10-01T15:22:13+00:00" property="article:modified_time"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Homelab Storage Refresh: TrueNAS Insights" name="twitter:title"/>
<meta content="Optimize your homelab storage with TrueNAS Scale now!" name="twitter:description"/>
<meta content="/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png" name="twitter:image"/>
<meta content="Written by" name="twitter:label1"/>
<meta content="James" name="twitter:data1"/>
<meta content="Time to read" name="twitter:label2"/>
<meta content="9 minutes" name="twitter:data2"/>
<script class="rank-math-schema" type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"/#person","name":"Jameskilbycouk"},{"@type":"WebSite","@id":"/#website","url":"https://jameskilby.co.uk","publisher":{"@id":"/#person"},"inLanguage":"en-GB"},{"@type":"ImageObject","@id":"/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png","url":"/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png","width":"905","height":"233","caption":"TrueNAS Logo","inLanguage":"en-GB"},{"@type":"BreadcrumbList","@id":"/2023/05/homelab-storage-refresh-part-1/#breadcrumb","itemListElement":[{"@type":"ListItem","position":"1","item":{"@id":"https://jameskilby.co.uk","name":"Home"}},{"@type":"ListItem","position":"2","item":{"@id":"/2023/05/homelab-storage-refresh-part-1/","name":"Homelab Storage Refresh (Part 1)"}}]},{"@type":"WebPage","@id":"/2023/05/homelab-storage-refresh-part-1/#webpage","url":"/2023/05/homelab-storage-refresh-part-1/","name":"Homelab Storage Refresh (Part 1) - Jameskilbycouk","datePublished":"2023-05-23T12:07:09+00:00","dateModified":"2025-10-01T15:22:13+00:00","isPartOf":{"@id":"/#website"},"primaryImageOfPage":{"@id":"/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png"},"inLanguage":"en-GB","breadcrumb":{"@id":"/2023/05/homelab-storage-refresh-part-1/#breadcrumb"}},{"@type":"Person","@id":"/author/admin/","name":"James","url":"/author/admin/","image":{"@type":"ImageObject","@id":"https://secure.gravatar.com/avatar/ef6adff58705e646065437e05c1828dd80a8f03997f0a97cf2b109df4eafd7aa?s=96&amp;d=mm&amp;r=g","url":"https://secure.gravatar.com/avatar/ef6adff58705e646065437e05c1828dd80a8f03997f0a97cf2b109df4eafd7aa?s=96&amp;d=mm&amp;r=g","caption":"James","inLanguage":"en-GB"},"sameAs":["https://wordpress.jameskilby.cloud"]},{"@type":"BlogPosting","headline":"Homelab Storage Refresh (Part 1) - Jameskilbycouk","keywords":"Homelab Storage Refresh","datePublished":"2023-05-23T12:07:09+00:00","dateModified":"2025-10-01T15:22:13+00:00","author":{"@id":"/author/admin/","name":"James"},"publisher":{"@id":"/#person"},"description":"Part 1 of my migration from Synology to TrueNAS scale","name":"Homelab Storage Refresh (Part 1) - Jameskilbycouk","@id":"/2023/05/homelab-storage-refresh-part-1/#richSnippet","isPartOf":{"@id":"/2023/05/homelab-storage-refresh-part-1/#webpage"},"image":{"@id":"/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png"},"inLanguage":"en-GB","mainEntityOfPage":{"@id":"/2023/05/homelab-storage-refresh-part-1/#webpage"}}]}</script>
<!-- /Rank Math WordPress SEO plugin -->
<link href="/feed/" rel="alternate" title="Jameskilbycouk » Feed" type="application/rss+xml"/>
<link href="/comments/feed/" rel="alternate" title="Jameskilbycouk » Comments Feed" type="application/rss+xml"/>
<script>document.documentElement.classList.remove( 'no-js' );</script>
<style id="classic-theme-styles-inline-css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="wpjoli-joli-table-of-contents-style-inline-css">
</style>
<style id="global-styles-inline-css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--theme-palette-1: var(--global-palette1);--wp--preset--color--theme-palette-2: var(--global-palette2);--wp--preset--color--theme-palette-3: var(--global-palette3);--wp--preset--color--theme-palette-4: var(--global-palette4);--wp--preset--color--theme-palette-5: var(--global-palette5);--wp--preset--color--theme-palette-6: var(--global-palette6);--wp--preset--color--theme-palette-7: var(--global-palette7);--wp--preset--color--theme-palette-8: var(--global-palette8);--wp--preset--color--theme-palette-9: var(--global-palette9);--wp--preset--color--theme-palette-10: var(--global-palette10);--wp--preset--color--theme-palette-11: var(--global-palette11);--wp--preset--color--theme-palette-12: var(--global-palette12);--wp--preset--color--theme-palette-13: var(--global-palette13);--wp--preset--color--theme-palette-14: var(--global-palette14);--wp--preset--color--theme-palette-15: var(--global-palette15);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: var(--global-font-size-small);--wp--preset--font-size--medium: var(--global-font-size-medium);--wp--preset--font-size--large: var(--global-font-size-large);--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--larger: var(--global-font-size-larger);--wp--preset--font-size--xxlarge: var(--global-font-size-xxlarge);--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link href="/wp-content/themes/kadence/assets/css/related-posts.min.css" id="kadence-related-posts-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/kadence-splide.min.css" id="kad-splide-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/footer.min.css" id="kadence-footer-css" media="all" rel="stylesheet"/>
<link href="/wp-content/themes/kadence/assets/css/rankmath.min.css" id="kadence-rankmath-css" media="all" rel="stylesheet"/>
<link href="/wp-content/cache/wpo-minify/1765990838/assets/wpo-minify-header-a98b27a2.min.css" id="wpo_min-header-0-css" media="all" rel="stylesheet"/>
<link href="/wp-json/wp/v2/posts/4357" rel="alternate" title="JSON" type="application/json"/><link href="/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>

<link href="/?p=4357" rel="shortlink"/>
<link href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwordpress.jameskilby.cloud%2F2023%2F05%2Fhomelab-storage-refresh-part-1%2F" rel="alternate" title="oEmbed (JSON)" type="application/json+oembed"/>
<link href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwordpress.jameskilby.cloud%2F2023%2F05%2Fhomelab-storage-refresh-part-1%2F&amp;format=xml" rel="alternate" title="oEmbed (XML)" type="text/xml+oembed"/>
</meta></meta><meta content="max-age=86400" http-equiv="Cache-Control"/><meta content="WordPress Static Generator 1.0" name="generator"/><script data-domain="jameskilby.co.uk" defer="" src="https://plausible.jameskilby.cloud/js/script.js"></script></head>
<body class="wp-singular post-template-default single single-post postid-4357 single-format-standard wp-embed-responsive wp-theme-kadence hide-focus-outline link-style-standard content-title-style-normal content-width-narrow content-style-boxed content-vertical-padding-show non-transparent-header mobile-non-transparent-header">
<div class="site wp-site-blocks" id="wrapper">
<a class="skip-link screen-reader-text scroll-ignore" href="#main">Skip to content</a>
<header class="site-header" id="masthead" itemscope="" itemtype="https://schema.org/WPHeader" role="banner">
<div class="site-header-wrap" id="main-header">
<div class="site-header-inner-wrap">
<div class="site-header-upper-wrap">
<div class="site-header-upper-inner-wrap">
<div class="site-main-header-wrap site-header-row-container site-header-focus-item site-header-row-layout-standard" data-section="kadence_customizer_header_main">
<div class="site-header-row-container-inner">
<div class="site-container">
<div class="site-main-header-inner-wrap site-header-row site-header-row-has-sides site-header-row-no-center">
<div class="site-header-main-section-left site-header-section site-header-section-left">
<div class="site-header-item site-header-focus-item" data-section="title_tagline">
<div class="site-branding branding-layout-standard"><a class="brand" href="/" rel="home"><div class="site-title-wrap"><p class="site-title">Jameskilbycouk</p></div></a></div></div><!-- data-section="title_tagline" -->
</div>
<div class="site-header-main-section-right site-header-section site-header-section-right">
<div class="site-header-item site-header-focus-item site-header-item-main-navigation header-navigation-layout-stretch-false header-navigation-layout-fill-stretch-false" data-section="kadence_customizer_primary_navigation">
<nav aria-label="Primary" class="main-navigation header-navigation hover-to-open nav--toggle-sub header-navigation-style-standard header-navigation-dropdown-animation-none" id="site-navigation" role="navigation">
<div class="primary-menu-container header-menu-container">
<ul class="menu" id="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7329" id="menu-item-7329"><a href="/about-me/">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324" id="menu-item-7324"><a href="/evs/">EVS</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7325" id="menu-item-7325"><a href="/vmc/">VMC</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7327" id="menu-item-7327"><a href="/media/">Media</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7326" id="menu-item-7326"><a href="/homelab-software/">HomeLab – Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7328" id="menu-item-7328"><a href="/lab/">Homelab – Hardware</a></li>
</ul> </div>
</nav><!-- #site-navigation -->
</div><!-- data-section="primary_navigation" -->
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="site-mobile-header-wrap" id="mobile-header">
<div class="site-header-inner-wrap">
<div class="site-header-upper-wrap">
<div class="site-header-upper-inner-wrap">
<div class="site-main-header-wrap site-header-focus-item site-header-row-layout-standard site-header-row-tablet-layout-default site-header-row-mobile-layout-default">
<div class="site-header-row-container-inner">
<div class="site-container">
<div class="site-main-header-inner-wrap site-header-row site-header-row-has-sides site-header-row-no-center">
<div class="site-header-main-section-left site-header-section site-header-section-left">
<div class="site-header-item site-header-focus-item" data-section="title_tagline">
<div class="site-branding mobile-site-branding branding-layout-standard branding-tablet-layout-inherit branding-mobile-layout-inherit"><a class="brand" href="/" rel="home"><div class="site-title-wrap"><div class="site-title vs-md-false">Jameskilbycouk</div></div></a></div></div><!-- data-section="title_tagline" -->
</div>
<div class="site-header-main-section-right site-header-section site-header-section-right">
<div class="site-header-item site-header-focus-item site-header-item-navgation-popup-toggle" data-section="kadence_customizer_mobile_trigger">
<div class="mobile-toggle-open-container">
<button aria-expanded="false" aria-label="Open menu" class="menu-toggle-open drawer-toggle menu-toggle-style-default" data-set-focus=".menu-toggle-close" data-toggle-body-class="showing-popup-drawer-from-right" data-toggle-target="#mobile-drawer" id="mobile-toggle">
<span class="menu-toggle-icon"><span class="kadence-svg-iconset"><svg aria-hidden="true" class="kadence-svg-icon kadence-menu-svg" fill="currentColor" height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Toggle Menu</title><path d="M3 13h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 7h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 19h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1z"></path>
</svg></span></span>
</button>
</div>
</div><!-- data-section="mobile_trigger" -->
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</header><!-- #masthead -->
<main class="wrap kt-clear" id="inner-wrap" role="main">
<div class="content-area" id="primary">
<div class="content-container site-container">
<div class="site-main" id="main">
<div class="content-wrap">
<div class="post-thumbnail article-post-thumbnail kadence-thumbnail-position-behind alignwide kadence-thumbnail-ratio-2-3">
<div class="post-thumbnail-inner">
<img alt="TrueNAS Logo" class="post-top-featured wp-post-image" decoding="async" fetchpriority="high" height="233" loading="eager" sizes="(max-width: 905px) 100vw, 905px" src="/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png" srcset="/wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21.png 905w, /wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21-300x77.png 300w, /wp-content/uploads/2023/05/Screenshot-2023-05-22-at-18.49.21-768x198.png 768w" width="905"/> </div>
</div><!-- .post-thumbnail -->
<article class="entry content-bg single-entry post-4357 post type-post status-publish format-standard has-post-thumbnail hentry category-homelab category-storage tag-nas tag-truenas-scale tag-zfs" id="post-4357">
<div class="entry-content-wrap">
<header class="entry-header post-title title-align-inherit title-tablet-align-inherit title-mobile-align-inherit">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a href="/category/homelab/" rel="tag">Homelab</a> | <a href="/category/storage/" rel="tag">Storage</a> </span>
</div><!-- .entry-taxonomies -->
<h1 class="entry-title">Homelab Storage Refresh (Part 1)</h1><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2023-05-23T12:07:09+00:00" itemprop="datePublished">May 23, 2023</time><time class="updated" datetime="2025-10-01T15:22:13+00:00" itemprop="dateModified">October 1, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-content single-content">
<div class="wp-block-rank-math-toc-block" id="rank-math-toc">
<h2>Table of Contents</h2>
<nav>
<ul>
<li><a href="#background">Background</a></li>
<li><a href="#zfs-overview">ZFS Overview</a>
<ul>
<li><a href="#read-cache-arc-and-l-2-arc">Read Cache (ARC and L2ARC)</a></li>
<li><a href="#zil-zfs-intent-log">ZIL (ZFS Intent Log)</a></li>
</ul>
</li>
<li><a href="#hardware">Hardware</a></li>
</ul>
</nav>
</div>
<h2 class="wp-block-heading" id="background">Background</h2>
<p>I have just completed the move of all my production and media-based storage/services to TrueNAS Scale. ( I will just refer to this as TrueNAS) This is based on my HP Z840 and I have now retired my faithful Synology DS918+ and DX517 expansion bay.  (Those have gone to fellow vExperts Paul Wilk and Kev Johnson)</p>
<p>I loved the Synology ecosystem and I still believe it’s probably the easiest to get up and running and offers a very easy-to-use and performant system. Combine this with a large number of additional apps available together with docker it is very customisable.  It makes an excellent entry into homelab storage at a  relatively low cost. They are even more suitable for home use when you consider that they are typically quiet and very power efficient. I would have no hesitation in recommending a unit to someone.</p>
<p>However, my homelab needs could not be served by the units I had. I was especially constrained by the 2x Gigabit interfaces on the 918+ and the thought of spending multi-thousands for one compatible with my new 25Gb/s network and the number of drives I need really didn’t appeal.  This was compounded by the fact that I already had most of the components I wanted to use.  My replacement storage needed to be able to meet my current needs with significantly higher performance capabilities but also have room for future expansion. </p>
<p>Therefore the migration to TrueNAS was undertaken. I had the TrueNAS box running for a while (with a lower spec and only used it occasionally when I needed higher-performance storage)This was due to the significantly higher electrical usage.</p>
<p>However, it was time to complete the move of all data and media services. Up until this point, my media stack was running on my Synology DS918+. I have had a few issues recently with the Synology that I suspect are it running out of memory. I had upgraded it to 12GB but this was still not enough. As my Z840 TrueNAS server has way more RAM and CPU capabilities As part of the migration, I also consolidated some additional hardware into the TrueNAS host.  This has now become the central piece of kit in my homely running a large number of services.</p>
<h2 class="wp-block-heading" id="zfs-overview">ZFS Overview</h2>
<p>Before getting into details of the hardware and software config I think it’s worth giving an overview of ZFS in case anyone is unfamiliar. SUN Microsystems originally developed ZFS and it is a hugely capable storage platform. It is unusual in that it encompasses a volume manager and a file system. It is legendary for its data integrity capabilities and the scale of the system that could be deployed (it was originally called Zettabyte File System)  It is a copy-on-write system (COW) If you are familiar with ZFS operation skip this section.</p>
<p>ZFS like a lot of modern storage technologies(VSAN etc) wants exclusive access to the underlying disks. This means using a HBA-based device rather than a RAID card.   ZFS then groups these drives into a “Pool” </p>
<p>The default is to use drives for data storage  “Data VDEV” This can also be done in several layouts and understanding how this is done is very important to performance.   Conceptually these are similar to traditional RAID levels with RAID10 like mirror and stripe usually being recommended for high-performance systems and RAIDZ or RAIDZ2 are parity-based mechanisms with single and double drive protection similar to RAID5 and RAID6 this is recommended for large amounts of data that are not performance critical. </p>
<p>One of the additional advantages of ZFS is that drives of different types can be dedicated to additional roles to improve performance and resilience. </p>
<p>These additional roles are:</p>
<ul>
<li>Metadata </li>
<li>Log</li>
<li>Cache</li>
<li>Spare</li>
<li>Dedupe</li>
</ul>
<p>I am using the Cache (L2ARC) and Log (ZIL) functionality and to understand these you have to know a little bit more about how ZFS functions under the covers.   </p>
<h3 class="wp-block-heading" id="read-cache-arc-and-l-2-arc">Read Cache (ARC and L2ARC)</h3>
<p>ARC and L2ARC are mechanisms to improve read performance only.</p>
<p>ARC or Adaptive Read Cache. Is a high-speed in-memory cache that stores recently accessed data. L2ARC stands for L2ARC Cache. It is a secondary cache that can be used to store data that is not currently in ARC. L2ARC can be implemented using storage devices, such as SSDs or NVMe drives. </p>

<p>ARC and L2ARC work together to improve the performance of ZFS. When an application requests data, ZFS first checks ARC to see if the data is present. If the data is in ARC, it is returned to the application without having to access the underlying storage devices. If the data is not in ARC, ZFS checks L2ARC. If the data is in L2ARC, it is copied to ARC and then returned to the application. If the data is not in L2ARC, it is read from the underlying storage devices and then added to ARC.</p>
<p>One advantage to how ZFS implements these cache mechanisms is that they do not need to be redundant as the data also exists in the storage pool. This means that if ARC was lost due to a crash/reboot or an L2ARC drive failed the data would be accessed from the underlying pool at a lower performance.</p>
<p>The use of ARC and L2ARC can significantly improve the performance of ZFS. In some cases, the use of L2ARC can even double the performance of ZFS. However, it is important to note that the use of ARC and L2ARC can also increase the amount of memory that is required to run ZFS.</p>
<p>In Truenas Scale only half of the available RAM is able to be used as ARC therefore I have 128GB of RAM available for ARC.  The hit rate in my system is typically over 95%.  One limitation I wish would be removed is that the ARC is a global cache improving all of your storage needs but the L2ARC is assigned to a pool of storage. Therefore if you have multiple pools you need to have (and configure) multiple L2ARC devices.  (This can be done at the command line by adding different partitions onto one device but I am attempting to keep my system configured from GUI only)</p>
<p>L2ARC Configuration</p>
<p>For L2ARC I am using an Intel  P3520 2TB NVMe in U2 form factor on a Startech PCI card.  This is a perfect drive for L2ARC as is a heavy read-focused NVMe offering 375,000 IOPS  and uptown 2700MB/s of read performance but only 26,000 IOPS  and up to 1800MB/s of write performance.  This isn’t an issue as by design the L2ARC fills slowly and with the later builds of Truenas, the data persists across reboots.   This also helps with the relatively low data endurance of 1095 TBW </p>
<h3 class="wp-block-heading" id="zil-zfs-intent-log">ZIL (ZFS Intent Log)</h3>
<p>The ZIL or LOG device(s) is most likely the most misunderstood mechanism within ZFS. Its intention is to improve the performance of synchronous writes.  So we need to know what a synchronous write is.</p>
<p>So let’s start with the definition: A synchronous write in ZFS is a write operation that is guaranteed to be committed to stable storage before the write operation returns. This means that the data will be written to the underlying storage devices and will not be lost in the event of a system crash or power failure.</p>
<p>In contrast, an asynchronous write doesn’t have to hit persistent storage before it’s committed this leads to higher performance at the risk of data loss.  </p>
<p>When running VM’s sync write is basically essential. </p>
<p>The ZIL is used in the following way:</p>
<ol>
<li>When an application (Or VM) writes data to a ZFS file system, the data is first written to the ZIL.</li>
<li>Once the data has been written to the ZIL, it is then written to the underlying storage devices.</li>
<li>Once the data has been written to the underlying storage devices, the ZIL entry is marked as complete.</li>
</ol>
<p>The ZIL is always present on a ZFS pool and if no dedicated device is used then this uses the existing pool devices.  This increases the IO load on the pool devices and therefore for performance reasons, a dedicated high-performance device is highly recommended. Although technically a single device will achieve the higher performance if this device fails or is unavailable then the pool is also toast so at a minimum 2 should be considered. </p>
<p>ZIL Config </p>
<p>For the ZIL I am using two Intel Optane  P4800X 750GB devices in a mirror configuration. I was VERY lucky to get these sample hardware devices from Intel as part of the <a href="https://vexpert.vmware.com" rel="noreferrer noopener" target="_blank">VMware vExpert</a> program and I have some blogs coming up dedicated to these devices.</p>
<p>These are capable of reading 550000 IOPS (4K Blocks) and unto 2500MB/s sequentially read and 550000 IOPS (4K Blocks) 2200 MB/s write Some crazy numbers…. The other thing that makes Optanes the best choice for this role is the endurance that they offer.  The spec sheet says they will handle 41 Petabytes being written to them. </p>
<h2 class="wp-block-heading" id="hardware">Hardware</h2>
<p>In terms of the setup of TrueNas server, it’s installed on an HP Z840.  This has 2 x Intel Xeon E5-2673 V3 – 12-Core 2.40Ghz  (48 Threads) and 256GB of ram. This is a high-end workstation device and sadly I don’t have the rack mount kit for it. However, it was chosen for its horsepower and ability to run all of the PCIe and storage devices that I needed. This includes having the cooling and electrical capabilities to run all the components. It has an 1125-watt power supply so we should be good. There are currently 19 different drives located within the chassis and it’s a little tight…  See the PCI slots below.</p>
<figure class="wp-block-image size-large"><img alt="" class="wp-image-4714" decoding="async" height="737" loading="lazy" sizes="auto, (max-width: 1024px) 100vw, 1024px" src="/wp-content/uploads/2023/05/IMG_0397-1024x737.jpeg" srcset="/wp-content/uploads/2023/05/IMG_0397-1024x737.jpeg 1024w, /wp-content/uploads/2023/05/IMG_0397-300x216.jpeg 300w, /wp-content/uploads/2023/05/IMG_0397-768x553.jpeg 768w, /wp-content/uploads/2023/05/IMG_0397-1536x1106.jpeg 1536w, /wp-content/uploads/2023/05/IMG_0397-2048x1474.jpeg 2048w" width="1024"/></figure>
<p>I have mentioned the ARC Device and the Optanes  (Slots 1,2 + 4) in the above picture. The last thing to mention is the HBA which is an LSI 9300 located in slot 3. All of my other data drives are connected to this.</p>
<p>The current disk architecture is shown below.  However, this is likely not the final setup and it may change temporarily for testing.</p>
<figure class="wp-block-table">
<table>
<tbody>
<tr>
<td>Role</td>
<td>Number</td>
<td>Device</td>
<td>Config</td>
<td>Usable/Role</td>
</tr>
<tr>
<td>Boot Drive</td>
<td>2</td>
<td>Intel 80GB SSD</td>
<td>MIRROR</td>
<td>N/A only used for TrueNas OS</td>
</tr>
<tr>
<td>SSD Pool</td>
<td>6</td>
<td>Samsung 860 EVO 2TB</td>
<td>2 x MIRROR | 3 wide</td>
<td>4.71TiB (TrueNas Apps and VM storage)</td>
</tr>
<tr>
<td>HD Pool 1</td>
<td>4</td>
<td>Seagate IronWolf 8TB </td>
<td>1xRAIDZ1</td>
<td>21TiB ( Media storage) </td>
</tr>
<tr>
<td>HD Pool 2</td>
<td>4</td>
<td>HGST 1TB 7200RPM</td>
<td>1xRAIDZ1</td>
<td>3TiB.  ( Files and Photos) </td>
</tr>
<tr>
<td>ARC (Assigned to SSD Pool)</td>
<td>1</td>
<td>Intel 2TB NVMe</td>
<td>JBOD</td>
<td>N/A ARC is only used as a read cache and doesn’t contribute to capacity</td>
</tr>
<tr>
<td>SLOG  (Assigned to SSD Pool)</td>
<td>2</td>
<td><a href="https://ark.intel.com/content/www/us/en/ark/products/97154/intel-optane-ssd-dc-p4800x-series-750gb-2-5in-pcie-x4-3d-xpoint.html" rel="noopener" target="_blank">Intel DC P4800X Optane</a></td>
<td>2 x MIRROR</td>
<td>SLOG is a write log and doesn’t add to capacity</td>
</tr>
</tbody>
</table>
</figure>
<p>I will do some proper performance testing in my next post and Im sure there optimisations I can make before I do that but until that’s done. I did just run CrystalMark to ensure things are running in the right ballpark.</p>
<figure class="wp-block-image size-full"><img alt="" class="wp-image-4768" decoding="async" height="454" loading="lazy" sizes="auto, (max-width: 618px) 100vw, 618px" src="/wp-content/uploads/2023/05/Screenshot-2023-05-19-at-10.54.27.png" srcset="/wp-content/uploads/2023/05/Screenshot-2023-05-19-at-10.54.27.png 618w, /wp-content/uploads/2023/05/Screenshot-2023-05-19-at-10.54.27-300x220.png 300w" width="618"/><figcaption class="wp-element-caption">TrueNAS Scale performance </figcaption></figure>
<p> I dug out some old testing from the Synology. The test isn’t exactly the same but you can see the Read/Write and especially the IOPS are significantly higher.</p>
<figure class="wp-block-image size-large"><img alt="" class="wp-image-4428" decoding="async" height="725" loading="lazy" sizes="auto, (max-width: 1024px) 100vw, 1024px" src="/wp-content/uploads/2022/01/Synology-1024x725.png" srcset="/wp-content/uploads/2022/01/Synology-1024x725.png 1024w, /wp-content/uploads/2022/01/Synology-300x212.png 300w, /wp-content/uploads/2022/01/Synology-768x543.png 768w, /wp-content/uploads/2022/01/Synology.png 1026w" width="1024"/><figcaption class="wp-element-caption">Synology Performance</figcaption></figure>
</div><!-- .entry-content -->
<div class="comments-area" id="comments"><div class="pb-30"><section id="utterances-comments"><script async="" crossorigin="anonymous" data-cfasync="false" data-issue-term="pathname" data-repo="jameskilbynet/jkcoukblog" data-theme="github-light" src="https://utteranc.es/client.js"></script></section></div></div><footer class="entry-footer">
<div class="entry-tags">
<span class="tags-links">
<span class="tags-label screen-reader-text">
			Post Tags:		</span>
<a class="tag-link tag-item-nas" href="/tag/nas/" rel="tag" title="NAS"><span class="tag-hash">#</span>NAS</a><a class="tag-link tag-item-truenas-scale" href="/tag/truenas-scale/" rel="tag" title="TrueNAS Scale"><span class="tag-hash">#</span>TrueNAS Scale</a><a class="tag-link tag-item-zfs" href="/tag/zfs/" rel="tag" title="ZFS"><span class="tag-hash">#</span>ZFS</a> </span>
</div><!-- .entry-tags -->
</footer><!-- .entry-footer -->
</div>
</article><!-- #post-4357 -->
<nav aria-label="Posts" class="navigation post-navigation">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="/2023/05/runecast-remediation-scripts/" rel="prev"><div class="post-navigation-sub"><small><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-left-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg"><title>Previous</title><path d="M28 12.5v3c0 0.281-0.219 0.5-0.5 0.5h-19.5v3.5c0 0.203-0.109 0.375-0.297 0.453s-0.391 0.047-0.547-0.078l-6-5.469c-0.094-0.094-0.156-0.219-0.156-0.359v0c0-0.141 0.063-0.281 0.156-0.375l6-5.531c0.156-0.141 0.359-0.172 0.547-0.094 0.172 0.078 0.297 0.25 0.297 0.453v3.5h19.5c0.281 0 0.5 0.219 0.5 0.5z"></path>
</svg></span>Previous</small></div>Runecast Remediation Script’s</a></div><div class="nav-next"><a href="/2023/10/going-out-with-a-bang/" rel="next"><div class="post-navigation-sub"><small>Next<span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span></small></div>VMware – Going out with a Bang!</a></div></div>
</nav> <div class="entry-related alignfull entry-related-style-wide">
<div class="entry-related-inner content-container site-container">
<div class="entry-related-inner-content alignwide">
<h2 class="entry-related-title" id="related-posts-title">Similar Posts</h2> <div aria-labelledby="related-posts-title" class="entry-related-carousel kadence-slide-init splide" data-columns-md="3" data-columns-sm="2" data-columns-ss="1" data-columns-xl="3" data-columns-xs="2" data-columns-xxl="3" data-slider-anim-speed="400" data-slider-arrows="true" data-slider-auto="false" data-slider-dots="true" data-slider-gutter="40" data-slider-hover-pause="false" data-slider-loop="true" data-slider-next-label="Next" data-slider-prev-label="Previous" data-slider-scroll="1" data-slider-slide-label="Posts" data-slider-speed="7000">
<div class="splide__track">
<ul class="splide__list kadence-posts-list grid-cols grid-sm-col-2 grid-lg-col-3">
<li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-3883 post type-post status-publish format-standard has-post-thumbnail hentry category-docker category-homelab category-hosting category-kubernetes tag-containers tag-docker tag-homelab">
<a aria-hidden="true" aria-label="Use Portainer in a Homelab with GitHub" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2022/12/use-portainer-in-a-homelab-with-github/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<img alt="Use Portainer in a Homelab with GitHub" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="280" loading="lazy" sizes="(max-width: 280px) 100vw, 280px" src="/wp-content/uploads/2022/12/22225832.png" srcset="/wp-content/uploads/2022/12/22225832.png 280w, /wp-content/uploads/2022/12/22225832-150x150.png 150w" width="280"/> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-docker" href="/category/docker/" rel="tag">Docker</a> | <a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-hosting" href="/category/hosting/" rel="tag">Hosting</a> | <a class="category-link-kubernetes" href="/category/kubernetes/" rel="tag">Kubernetes</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2022/12/use-portainer-in-a-homelab-with-github/" rel="bookmark">Use Portainer in a Homelab with GitHub</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2022-12-09T09:06:37+00:00" itemprop="datePublished">December 9, 2022</time><time class="updated" datetime="2025-10-01T15:22:14+00:00" itemprop="dateModified">October 1, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>Late to the party or not, I have been using containers in my lab more and more and that has led me to Portainer…. I use it for managing the docker containers on my Synology but it can also be used for managing lots of other things. In their own words “Portainer accelerates container adoption….</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2022/12/use-portainer-in-a-homelab-with-github/">
				Read More<span class="screen-reader-text"> Use Portainer in a Homelab with GitHub</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-3703 post type-post status-publish format-standard hentry category-homelab category-veeam category-vmware tag-desired-state tag-homelab tag-vmware">
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-veeam" href="/category/veeam/" rel="tag">Veeam</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2022/01/lab-update-part-5-desired-workloads/" rel="bookmark">Lab Update –  Desired Workloads</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2022-01-06T19:23:11+00:00" itemprop="datePublished">January 6, 2022</time><time class="updated" datetime="2023-11-11T21:15:26+00:00" itemprop="dateModified">November 11, 2023</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>My lab is always undergoing change. Partially as I want to try new things or new ways of doing things. Sometimes because I break things (not always by accident) sometimes it’s a great way to learn…. I decided to list the workloads I am looking to run (some of these are already in place) Infrastucture…</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2022/01/lab-update-part-5-desired-workloads/">
				Read More<span class="screen-reader-text"> Lab Update –  Desired Workloads</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-4301 post type-post status-publish format-standard has-post-thumbnail hentry category-homelab category-vmware category-vsphere tag-upgrade tag-vsphere-8">
<a aria-hidden="true" aria-label="Forcing an Upgrade to vSphere 8" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2022/12/forcing-an-upgrade-to-vsphere-8/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<img alt="Forcing an Upgrade to vSphere 8" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="166" loading="lazy" sizes="(max-width: 738px) 100vw, 738px" src="/wp-content/uploads/2022/12/Screenshot-2022-12-14-at-21.45.23.png" srcset="/wp-content/uploads/2022/12/Screenshot-2022-12-14-at-21.45.23.png 738w, /wp-content/uploads/2022/12/Screenshot-2022-12-14-at-21.45.23-300x67.png 300w" width="738"/> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> | <a class="category-link-vsphere" href="/category/vsphere/" rel="tag">vSphere</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2022/12/forcing-an-upgrade-to-vsphere-8/" rel="bookmark">Forcing an Upgrade to vSphere 8</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2022-12-14T21:43:39+00:00" itemprop="datePublished">December 14, 2022</time><time class="updated" datetime="2025-10-01T15:22:13+00:00" itemprop="dateModified">October 1, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>I run a reasonably extensive homelab that is of course built around the VMware ecosystem. So with the release of vSphere 8 I was obviously going to upgrade however a few personal things blocked me from doing it until now. The vCenter upgrade was smooth however knowing that some of the hardware I am running…</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2022/12/forcing-an-upgrade-to-vsphere-8/">
				Read More<span class="screen-reader-text"> Forcing an Upgrade to vSphere 8</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-6247 post type-post status-publish format-standard has-post-thumbnail hentry category-truenas-scale category-vmware category-vsan-vmware category-vsphere tag-homelab tag-trim tag-unmap tag-vmware tag-zfs">
<a aria-hidden="true" aria-label="How to Run ZFS on VMware vSphere: Setup Guide and Best Practices" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2024/12/zfs-on-vmware/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<img alt="How to Run ZFS on VMware vSphere: Setup Guide and Best Practices" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="132" loading="lazy" src="/wp-content/uploads/2024/12/ZFS.jpg" width="200"/> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-truenas-scale" href="/category/truenas-scale/" rel="tag">TrueNAS Scale</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> | <a class="category-link-vsan-vmware" href="/category/vmware/vsan-vmware/" rel="tag">vSAN</a> | <a class="category-link-vsphere" href="/category/vsphere/" rel="tag">vSphere</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2024/12/zfs-on-vmware/" rel="bookmark">How to Run ZFS on VMware vSphere: Setup Guide and Best Practices</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2024-12-18T17:47:57+00:00" itemprop="datePublished">December 18, 2024</time><time class="updated" datetime="2025-10-01T15:30:55+00:00" itemprop="dateModified">October 1, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>Table of Contents Copy on Write Disk ID’s Trim I have run a number of systems utilising ZFS since the earliest days of my homelab using Nexenta all the way back in 2010. The image below is my lab at the time with an IBM Head unit that I think had 18GB of RAM 6x450GB…</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2024/12/zfs-on-vmware/">
				Read More<span class="screen-reader-text"> How to Run ZFS on VMware vSphere: Setup Guide and Best Practices</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-4043 post type-post status-publish format-standard has-post-thumbnail hentry category-homelab category-networking category-storage category-vmware tag-homelab tag-mikrotik">
<a aria-hidden="true" aria-label="100Gb/s in my Homelab" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2022/12/100gb-s-in-my-homelab-sort-of/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<img alt="100Gb/s in my Homelab" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="346" loading="lazy" sizes="auto, (max-width: 768px) 100vw, 768px" src="/wp-content/uploads/2023/04/2157_hi_res-768x346.png" srcset="/wp-content/uploads/2023/04/2157_hi_res-768x346.png 768w, /wp-content/uploads/2023/04/2157_hi_res-300x135.png 300w, /wp-content/uploads/2023/04/2157_hi_res-1024x462.png 1024w, /wp-content/uploads/2023/04/2157_hi_res-1536x693.png 1536w, /wp-content/uploads/2023/04/2157_hi_res.png 1889w" width="768"/> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-networking" href="/category/networking/" rel="tag">Networking</a> | <a class="category-link-storage" href="/category/storage/" rel="tag">Storage</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2022/12/100gb-s-in-my-homelab-sort-of/" rel="bookmark">100Gb/s in my Homelab</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2022-12-19T10:09:58+00:00" itemprop="datePublished">December 19, 2022</time><time class="updated" datetime="2023-11-11T20:57:34+00:00" itemprop="dateModified">November 11, 2023</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>For a while, I’ve been looking to update the networking at the core of my homelab. I have had some great results with the current setup utilising a number of DAC’s but there were a couple of things that were annoying me. Then MikroTik dropped the CRS504-4XQ-IN and if the price wasn’t horrendous then that…</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2022/12/100gb-s-in-my-homelab-sort-of/">
				Read More<span class="screen-reader-text"> 100Gb/s in my Homelab</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li><li class="entry-list-item carousel-item splide__slide"><article class="entry content-bg loop-entry post-3229 post type-post status-publish format-standard has-post-thumbnail hentry category-automation category-homelab category-vmware tag-automation tag-hashicorp tag-homelab tag-packer">
<a aria-hidden="true" aria-label="Template Deployment with Packer" class="post-thumbnail kadence-thumbnail-ratio-2-3" href="/2021/01/hashicorp-packer/" role="presentation" tabindex="-1">
<div class="post-thumbnail-inner">
<img alt="Template Deployment with Packer" class="attachment-medium_large size-medium_large wp-post-image" decoding="async" height="287" loading="lazy" sizes="auto, (max-width: 287px) 100vw, 287px" src="/wp-content/uploads/2021/01/logo_packer.png" srcset="/wp-content/uploads/2021/01/logo_packer.png 287w, /wp-content/uploads/2021/01/logo_packer-150x150.png 150w" width="287"/> </div>
</a><!-- .post-thumbnail -->
<div class="entry-content-wrap">
<header class="entry-header">
<div class="entry-taxonomies">
<span class="category-links term-links category-style-normal">
<a class="category-link-automation" href="/category/automation/" rel="tag">Automation</a> | <a class="category-link-homelab" href="/category/homelab/" rel="tag">Homelab</a> | <a class="category-link-vmware" href="/category/vmware/" rel="tag">VMware</a> </span>
</div><!-- .entry-taxonomies -->
<h3 class="entry-title"><a href="/2021/01/hashicorp-packer/" rel="bookmark">Template Deployment with Packer</a></h3><div class="entry-meta entry-meta-divider-dot">
<span class="posted-by"><span class="meta-label">By</span><span class="author vcard"><a class="url fn n" href="https://jameskilby.co.uk">James</a></span></span> <span class="posted-on">
<time class="entry-date published" datetime="2021-01-21T22:26:10+00:00" itemprop="datePublished">January 21, 2021</time><time class="updated" datetime="2025-12-08T12:50:22+00:00" itemprop="dateModified">December 8, 2025</time> </span>
</div><!-- .entry-meta -->
</header><!-- .entry-header -->
<div class="entry-summary">
<p>Packer is one of those tools I have heard about, and some of the cool people on Twitter that I follow have been using it for a while. But until now I had never played with it. That was until I saw the below tweet by the legend that is William Lam That was the…</p>
</div><!-- .entry-summary -->
<footer class="entry-footer">
<div class="entry-actions">
<p class="more-link-wrap">
<a class="post-more-link" href="/2021/01/hashicorp-packer/">
				Read More<span class="screen-reader-text"> Template Deployment with Packer</span><span class="kadence-svg-iconset svg-baseline"><svg aria-hidden="true" class="kadence-svg-icon kadence-arrow-right-alt-svg" fill="currentColor" height="28" version="1.1" viewbox="0 0 27 28" width="27" xmlns="http://www.w3.org/2000/svg"><title>Continue</title><path d="M27 13.953c0 0.141-0.063 0.281-0.156 0.375l-6 5.531c-0.156 0.141-0.359 0.172-0.547 0.094-0.172-0.078-0.297-0.25-0.297-0.453v-3.5h-19.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h19.5v-3.5c0-0.203 0.109-0.375 0.297-0.453s0.391-0.047 0.547 0.078l6 5.469c0.094 0.094 0.156 0.219 0.156 0.359v0z"></path>
</svg></span> </a>
</p>
</div><!-- .entry-actions -->
</footer><!-- .entry-footer -->
</div>
</article>
</li> </ul>
</div>
</div>
</div>
</div>
</div><!-- .entry-author -->
</div>
</div><!-- #main -->
</div>
</div><!-- #primary -->
</main><!-- #inner-wrap -->
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-footer-wrap">
<div class="site-bottom-footer-wrap site-footer-row-container site-footer-focus-item site-footer-row-layout-standard site-footer-row-tablet-layout-default site-footer-row-mobile-layout-default" data-section="kadence_customizer_footer_bottom">
<div class="site-footer-row-container-inner">
<div class="site-container">
<div class="site-bottom-footer-inner-wrap site-footer-row site-footer-row-columns-1 site-footer-row-column-layout-row site-footer-row-tablet-column-layout-default site-footer-row-mobile-column-layout-row ft-ro-dir-row ft-ro-collapse-normal ft-ro-t-dir-default ft-ro-m-dir-default ft-ro-lstyle-plain">
<div class="site-footer-bottom-section-1 site-footer-section footer-section-inner-items-1">
<div class="footer-widget-area site-info site-footer-focus-item content-align-default content-tablet-align-default content-mobile-align-default content-valign-default content-tablet-valign-default content-mobile-valign-default" data-section="kadence_customizer_footer_html">
<div class="footer-widget-area-inner site-info-inner">
<div class="footer-html inner-link-style-normal"><div class="footer-html-inner"><p>© 2025 Jameskilbycouk - WordPress Theme by <a href="https://www.kadencewp.com/" rel="nofollow noopener">Kadence WP</a></p>
</div></div> </div>
</div><!-- .site-info -->
</div>
</div>
</div>
</div>
</div>
</div>
</footer><!-- #colophon -->
</div><!-- #wrapper -->
<script>document.documentElement.style.setProperty('--scrollbar-offset', window.innerWidth - document.documentElement.clientWidth + 'px' );</script>
<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/kadence\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<div class="popup-drawer popup-drawer-layout-sidepanel popup-drawer-animation-fade popup-drawer-side-right" data-drawer-target-string="#mobile-drawer" id="mobile-drawer">
<div class="drawer-overlay" data-drawer-target-string="#mobile-drawer"></div>
<div class="drawer-inner">
<div class="drawer-header">
<button aria-expanded="false" aria-label="Close menu" class="menu-toggle-close drawer-toggle" data-set-focus=".menu-toggle-open" data-toggle-body-class="showing-popup-drawer-from-right" data-toggle-target="#mobile-drawer">
<span class="toggle-close-bar"></span>
<span class="toggle-close-bar"></span>
</button>
</div>
<div class="drawer-content mobile-drawer-content content-align-left content-valign-top">
<div class="site-header-item site-header-focus-item site-header-item-mobile-navigation mobile-navigation-layout-stretch-false" data-section="kadence_customizer_mobile_navigation">
<nav aria-label="Primary Mobile" class="mobile-navigation drawer-navigation drawer-navigation-parent-toggle-false" id="mobile-site-navigation" role="navigation">
<div class="mobile-menu-container drawer-menu-container">
<ul class="menu has-collapse-sub-nav" id="mobile-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7329"><a href="/about-me/">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324"><a href="/evs/">EVS</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7325"><a href="/vmc/">VMC</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7327"><a href="/media/">Media</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7326"><a href="/homelab-software/">HomeLab – Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7328"><a href="/lab/">Homelab – Hardware</a></li>
</ul> </div>
</nav><!-- #site-navigation -->
</div><!-- data-section="mobile_navigation" -->
</div>
</div>
</div>
<script id="wpo_min-footer-0-js-extra">
var kadenceConfig = {"screenReader":{"expand":"Child menu","expandOf":"Child menu of","collapse":"Child menu","collapseOf":"Child menu of"},"breakPoints":{"desktop":"1024","tablet":768},"scrollOffset":"0"};
var kadenceSlideConfig = {"of":"of","to":"to","slide":"Slide","next":"Next","prev":"Previous"};
</script>
<script id="wpo_min-footer-0-js" src="/wp-content/cache/wpo-minify/1765990838/assets/wpo-minify-footer-20ef1812.min.js"></script>
</body>
</html>
